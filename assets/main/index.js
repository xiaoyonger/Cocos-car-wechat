System.register("chunks:///_virtual/audioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./configuration.ts","./resourceUtil.ts"],(function(n){"use strict";var o,t,u,i,e,a,s,c;return{setters:[function(n){o=n.createClass},function(n){t=n.cclegacy,u=n.assert,i=n.AudioClip,e=n.warn,a=n.clamp01},function(n){s=n.configuration},function(n){c=n.resourceUtil}],execute:function(){t._RF.push({},"e478cuMHJdIHa5fP3m5UZ7S","audioManager",void 0);var l=n("audioManager",function(){function n(){this.soundVolume=1}var t=n.prototype;return t.init=function(o){this.soundVolume=this.getConfiguration(!1)?1:0,n._audioSource=o},t.getConfiguration=function(n){var o;return void 0===(o=n?s.instance.getGlobalData("music"):s.instance.getGlobalData("sound"))||"true"===o},t.playMusic=function(o){var t=n._audioSource;u(t,"AudioManager not inited!"),t.loop=o,t.playing||t.play()},t.playSound=function(o){var t=this,a=n._audioSource;u(a,"AudioManager not inited!");c.loadRes("gamePackage/audio/sound/"+o,i,(function(n,o){n?e("load audioClip failed: ",n):a.playOneShot(o,a.volume?t.soundVolume/a.volume:0)}))},t.setMusicVolume=function(o){var t=n._audioSource;u(t,"AudioManager not inited!"),o=a(o),t.volume=o},t.setSoundVolume=function(n){this.soundVolume=n},t.openMusic=function(){this.setMusicVolume(.8),s.instance.setGlobalData("music","true")},t.closeMusic=function(){this.setMusicVolume(0),s.instance.setGlobalData("music","false")},t.openSound=function(){this.setSoundVolume(1),s.instance.setGlobalData("sound","true")},t.closeSound=function(){this.setSoundVolume(0),s.instance.setGlobalData("sound","false")},o(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}());l._instance=void 0,l._audioSource=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/balance.ts",["./rollupPluginModLoBabelHelpers.js","cc","./audioManager.ts","./constant.ts","./util.ts","./playerData.ts","./clientEvent.ts","./uiManager.ts","./gameLogic.ts","./LanguageData.ts"],(function(e){"use strict";var i,t,n,r,a,l,o,s,u,c,p,g,b,f,h,m,v,d,y,w;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Sprite,s=e.Label,u=e.Widget,c=e.Node,p=e.SpriteFrame,g=e.Component},function(e){b=e.audioManager},function(e){f=e.constant},function(e){h=e.util},function(e){m=e.playerData},function(e){v=e.clientEvent},function(e){d=e.uiManager},function(e){y=e.gameLogic},function(e){w=e.i18n}],execute:function(){var L,F,M,z,C,A,N,E,P,D,T,I,S,_,B,G,R,U,O,k,H,W,Y,x,j,q,V,X,Z,J,K,Q,$,ee,ie;a._RF.push({},"b6b06mpFMlIZqLpxXisU3Cu","balance",void 0);var te=l.ccclass,ne=l.property;e("balance",(L=te("balance"),F=ne(o),M=ne(o),z=ne({type:s}),C=ne({type:s}),A=ne(u),N=ne({type:c,displayName:"进度项"}),E=ne(p),P=ne(p),D=ne(p),T=ne(p),I=ne(p),S=ne(s),_=ne(s),B=ne(s),G=ne(o),R=ne(c),L((k=i((O=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,n(i,"spStart",k,r(i)),n(i,"spEnd",H,r(i)),n(i,"lbCurLevel",W,r(i)),n(i,"lbTargetLevel",Y,r(i)),n(i,"wgMenu",x,r(i)),n(i,"progress",j,r(i)),n(i,"imgLevelFinished",q,r(i)),n(i,"imgLevelUnfinished",V,r(i)),n(i,"imgProgressNoActive",X,r(i)),n(i,"imgProgressActive",Z,r(i)),n(i,"imgProgressFinished",J,r(i)),n(i,"lbTakeCount",K,r(i)),n(i,"lbGetNormal",Q,r(i)),n(i,"lbGetMulti",$,r(i)),n(i,"spIcon",ee,r(i)),n(i,"nodeDouble",ie,r(i)),i.rewardMoney=0,i.isFinishLevel=!1,i.showBalanceTimes=0,i}t(i,e);var a=i.prototype;return a.start=function(){},a.show=function(e,i,t,n,r,a){this.showBalanceTimes++;for(var l=t?i:i-1,s=this.progress.length,u=0;u<n&&!(n>s);u++)this.progress[u].active=!0,this.progress[u].getComponent(o).spriteFrame=u<l?this.imgProgressFinished:this.imgProgressNoActive;t||(this.progress[l].getComponent(o).spriteFrame=this.imgProgressActive);for(var c=n;c<this.progress.length;c++)this.progress[c].active=!1;this.lbCurLevel.string=e.toString(),this.lbTargetLevel.string=""+(e+1),this.isFinishLevel=a,this.spStart.spriteFrame=this.imgLevelFinished,this.spEnd.spriteFrame=a?this.imgLevelFinished:this.imgLevelUnfinished;var p=l>=0?l:0;this.lbTakeCount.string=w.t("balance.你完成了%{value}个订单",{value:p}),this.rewardMoney=r,this.lbGetNormal.string=h.formatMoney(r),this.lbGetMulti.string=h.formatMoney(3*r),a&&b.instance.playSound(f.AUDIO_SOUND.WIN),y.updateRewardIcon(f.SHARE_FUNCTION.BALANCE,this.spIcon);var g=Math.floor(100*Math.random());this.nodeDouble.active=g<30},a.onBtnGetNormalClick=function(){this.rewardOver(this.rewardMoney)},a.onBtnGetMultiClick=function(){var e=this;y.openReward(f.SHARE_FUNCTION.BALANCE,(function(i){i||e.rewardOver(3*e.rewardMoney)}))},a.rewardOver=function(e){this.isFinishLevel?(y.finishBuyTask(f.BUY_CAR_TYPE.PASS_LEVEL,m.instance.playerInfo.level,!1),m.instance.passLevel(e)):m.instance.updatePlayerInfo("gold",e),e>0&&y.showFlyReward(f.REWARD_TYPE.GOLD,(function(){v.dispatchEvent("updateGold")})),d.instance.hideDialog("fight/balance"),m.instance.playerInfo.level,m.instance.isComeFromBalance=!1,v.dispatchEvent("newLevel",this.isFinishLevel)},i}(g)).prototype,"spStart",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(O.prototype,"spEnd",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(O.prototype,"lbCurLevel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(O.prototype,"lbTargetLevel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(O.prototype,"wgMenu",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(O.prototype,"progress",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=i(O.prototype,"imgLevelFinished",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(O.prototype,"imgLevelUnfinished",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(O.prototype,"imgProgressNoActive",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(O.prototype,"imgProgressActive",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(O.prototype,"imgProgressFinished",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(O.prototype,"lbTakeCount",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(O.prototype,"lbGetNormal",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(O.prototype,"lbGetMulti",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=i(O.prototype,"spIcon",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(O.prototype,"nodeDouble",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=O))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/blockInputEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,n,i,s,e;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,s=t.Node,e=t.Component}],execute:function(){var p;n._RF.push({},"968ba6c9F9AupY/AbKjAj++","blockInputEvent",void 0);var h=i.ccclass;i.property,t("blockInputEvent",h("blockInputEvent")(p=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var i=n.prototype;return i.start=function(){},i.onEnable=function(){this.node.on(s.EventType.TOUCH_START,this.stopPropagation,this),this.node.on(s.EventType.TOUCH_END,this.stopPropagation,this),this.node.on(s.EventType.TOUCH_MOVE,this.stopPropagation,this),this.node.on(s.EventType.TOUCH_CANCEL,this.stopPropagation,this),this.node.on(s.EventType.MOUSE_DOWN,this.stopPropagation,this),this.node.on(s.EventType.MOUSE_ENTER,this.stopPropagation,this),this.node.on(s.EventType.MOUSE_MOVE,this.stopPropagation,this),this.node.on(s.EventType.MOUSE_LEAVE,this.stopPropagation,this),this.node.on(s.EventType.MOUSE_UP,this.stopPropagation,this),this.node.on(s.EventType.MOUSE_WHEEL,this.stopPropagation,this)},i.onDisable=function(){this.node.off(s.EventType.TOUCH_START,this.stopPropagation,this),this.node.off(s.EventType.TOUCH_END,this.stopPropagation,this),this.node.off(s.EventType.TOUCH_MOVE,this.stopPropagation,this),this.node.off(s.EventType.TOUCH_CANCEL,this.stopPropagation,this),this.node.off(s.EventType.MOUSE_DOWN,this.stopPropagation,this),this.node.off(s.EventType.MOUSE_ENTER,this.stopPropagation,this),this.node.off(s.EventType.MOUSE_MOVE,this.stopPropagation,this),this.node.off(s.EventType.MOUSE_LEAVE,this.stopPropagation,this),this.node.off(s.EventType.MOUSE_UP,this.stopPropagation,this),this.node.off(s.EventType.MOUSE_WHEEL,this.stopPropagation,this)},i.stopPropagation=function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0},n}(e))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/btnAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./audioManager.ts"],(function(e){"use strict";var t,n,i,r,o,a,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Button,l=e.Component},function(e){u=e.audioManager}],execute:function(){var p,s,d,b,f,y,m,v,h,k,S,g,P;o._RF.push({},"f130br9GwZGkJEkRGonhXxR","btnAdapter",void 0);var w=a.ccclass,C=a.property,z=a.menu,A=a.requireComponent,M=a.disallowMultiple;e("btnAdapter",(p=w("btnAdapter"),s=z("自定义组件/btnAdapter"),d=A(c),b=C({tooltip:"点击后是否播放点击音效"}),f=C({tooltip:"点击音效名"}),y=C({tooltip:"是否禁止快速二次点击"}),m=C({tooltip:"点击后多久才能再次点击,仅isPreventSecondClick为true生效"}),p(v=s(v=d(v=M((k=t((h=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"isPlaySound",k,r(t)),i(t,"clickSoundName",S,r(t)),i(t,"isPreventSecondClick",g,r(t)),i(t,"preventTime",P,r(t)),t}return n(t,e),t.prototype.start=function(){var e=this,t=this.node.getComponent(c);this.node.on("click",(function(){e.isPreventSecondClick&&(t.interactable=!1,e.scheduleOnce((function(){t.node&&(t.interactable=!0)}),e.preventTime)),e.isPlaySound&&u.instance.playSound(e.clickSoundName,!1)}))},t}(l)).prototype,"isPlaySound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=t(h.prototype,"clickSoundName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"click"}}),g=t(h.prototype,"isPreventSecondClick",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=t(h.prototype,"preventTime",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),v=h))||v)||v)||v)||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/car.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./audioManager.ts","./constant.ts","./clientEvent.ts","./poolManager.ts","./fightConstants.ts"],(function(t){"use strict";var i,e,s,n,o,r,h,a,c,l,d,g,u,p,v,R,P,f,T,m,C;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,h=t._decorator,a=t.Node,c=t.Vec3,l=t.ParticleSystem,d=t.RigidBody,g=t.Collider,u=t.ERigidBodyType,p=t.instantiate,v=t.Component},function(t){R=t.resourceUtil},function(t){P=t.audioManager},function(t){f=t.constant},function(t){T=t.clientEvent},function(t){m=t.poolManager},function(t){C=t.fightConstants}],execute:function(){var S,y,_,w,A,M,O,b,I;r._RF.push({},"e6d4fVD3pxJ7Y1Khf8fRUoa","car",void 0);var x=h.ccclass,E=h.property;t("car",(S=x("car"),y=E({displayName:"最大移动速度"}),_=E({displayName:"最小移动速度"}),w=E(a),S((O=i((M=function(t){function i(){var i;return(i=t.call(this)||this)._isMoving=!1,s(i,"maxSpeed",O,n(i)),s(i,"minSpeed",b,n(i)),s(i,"nodeGas",I,n(i)),i._minSpeed=-1,i._maxSpeed=-1,i.manager=null,i.isMain=!1,i.currentSpeed=0,i.accelerate=2,i.originRotation=0,i.targetRotation=0,i.curRoadPoint=null,i.circleCenterPoint=new c,i.quarter=0,i._nodeGasInst=null,i.entry=null,i.forward=new c(0,0,-1),i.posTarget=new c,i.posSrc=new c,i._callback=null,i.isOver=!1,i.curProgress=0,i.maxProgress=0,i.hasCustomer=!1,i.lastPos=new c,i.lastRotation=new c,i.isBraking=!1,i.arrTyres=[],i.curTyreRotation=0,i.nodeCarBackLight=null,i.tootingCoolTime=0,i.isCarMoving=!1,i.nodeInvincible=null,i._isHosting=!1,i._isInvincible=!1,i.invincibleRotation=0,i}e(i,t);var r=i.prototype;return r.start=function(){var t=this;this._minSpeed=this.minSpeed,this._maxSpeed=this.maxSpeed;var i=this.node.getChildByPath("RootNode/tyre1");i&&(this.arrTyres=[i,this.node.getChildByPath("RootNode/tyre2"),this.node.getChildByPath("RootNode/tyre3"),this.node.getChildByPath("RootNode/tyre4")],this.nodeCarBackLight=this.node.getChildByPath("RootNode/light1")),R.getEffect("gas",(function(i,e){if(!i){var s=m.instance.getNode(e,t.nodeGas);t._nodeGasInst=s.getComponent(l),s.setPosition(new c(0,0,0))}}))},r.markMainCar=function(t){this.isMain=t;var i=this.node.getComponent(d),e=this.node.getComponent(g);e.off("onCollisionEnter",this.onCollisionEnter,this),t?(i.setGroup(C.CAR_GROUP.MAIN_CAR),i.setMask(C.CAR_GROUP.OTHER_CAR),i.type=u.KINEMATIC,e.on("onCollisionEnter",this.onCollisionEnter,this)):(i.setGroup(C.CAR_GROUP.OTHER_CAR),i.setMask(-1),i.type=u.DYNAMIC)},r.setEntry=function(t){this.entry=t,this.reset()},r.onCollisionEnter=function(t){var i=this;if(this.isMain&&"ground"!==t.otherCollider.node.name){var e=t.otherCollider.node;t.otherCollider.node===this.node&&(e=t.selfCollider.node);var s=e.getComponent("car");if(!s.isOver){s.isOver=!0;var n=e.getComponent(d);n.useGravity=!0,this.isInvincible?n.applyForce(new c(0,1e4,-3e3),new c(0,.5,0)):n.applyForce(new c(0,1500,-3e3),new c(0,.5,0))}if(!this.isOver){P.instance.playSound(f.AUDIO_SOUND.CRASH);var o=this.node.getComponent(d);if(this.isInvincible)return this.lastPos=this.node.worldPosition,this.lastRotation=this.node.eulerAngles,o.enabled=!1,this.scheduleOnce((function(){i.isInvincible=!1,o.enabled=!0,i.revive(),i.currentSpeed=i._minSpeed}),.1),void this.scheduleOnce((function(){m.instance.putNode(e)}),.3);this.lastPos=this.node.worldPosition,this.lastRotation=this.node.eulerAngles,this.isOver=!0,o.setGroup(C.CAR_GROUP.MAIN_CAR),o.setMask(C.CAR_GROUP.OTHER_CAR|C.CAR_GROUP.NORMAL),T.dispatchEvent("gameOver",!1)}}},r.updateBackLight=function(){this.nodeCarBackLight&&(this.nodeCarBackLight.active=!this.isMoving||this.isHosting)},r.startRunning=function(){this.isOver||(this.isMoving=!0,this.accelerate=.4,this._nodeGasInst&&this._nodeGasInst.play(),this.isBraking&&(T.dispatchEvent("endBraking"),this.isBraking=!1))},r.startWithMinSpeed=function(){this.currentSpeed=this.minSpeed,this.stopRunning(!0),this._nodeGasInst&&this._nodeGasInst.play()},r.stopRunning=function(t){this.isOver||(this.isMoving=!1,this.accelerate=-.15,this.isBraking||t||(T.dispatchEvent("startBraking"),this.isBraking=!0))},r.stopImmediately=function(){this.isMoving=!1,this.currentSpeed=0},r.setMoveOverListener=function(t){this._callback=t},r.resetPhysical=function(){this.isOver=!1,this.isMain&&this.markMainCar(!0);var t=this.node.getComponent(d);t.useGravity=!1,t.sleep(),t.wakeUp()},r.revive=function(){this.resetPhysical(),console.log("revive pos ",this.lastPos);var t=new c(this.lastPos.x,0,this.lastPos.z);this.node.setWorldPosition(t),this.node.eulerAngles=this.lastRotation,this.isMoving=!1,this.currentSpeed=0},r.reset=function(){this.resetPhysical(),this.isMain&&(this.curProgress=0,this.hasCustomer=!1,this._nodeGasInst&&this._nodeGasInst.stop(),this.isInvincible=!1),this.tootingCoolTime=0,this.curRoadPoint=this.entry.getComponent("roadPoint"),this.posSrc.set(this.entry.worldPosition),this.posTarget.set(this.curRoadPoint.next.worldPosition),this.node.setWorldPosition(this.entry.worldPosition),this.posTarget.z!==this.posSrc.z?this.posTarget.z<this.posSrc.z?this.node.eulerAngles=new c(0,360,0):this.node.eulerAngles=new c(0,180,0):this.posTarget.x>this.posSrc.x?this.node.eulerAngles=new c(0,270,0):this.node.eulerAngles=new c(0,90,0),this.originRotation=this.node.eulerAngles.y,this.targetRotation=this.originRotation,this.isMoving=!1,this.isHosting=!1,this.currentSpeed=0,this._minSpeed>0&&(this.minSpeed=this._minSpeed,this.maxSpeed=this._maxSpeed)},r.greeting=function(){var t=this;this.isHosting=!0,this.curProgress++,this.hasCustomer=!0,T.dispatchEvent("greetingCustomer"),this.manager.greeting(this.node.worldPosition,this.curRoadPoint.direction,(function(){t.isMoving=!1,t.currentSpeed=0,t.isHosting=!1,T.dispatchEvent("showGuide",!0)}))},r.takeCustomer=function(){var t=this;this.isHosting=!0,this.hasCustomer=!1,T.dispatchEvent("takeCustomer"),this.manager.takeCustomer(this.node.worldPosition,this.curRoadPoint.direction,this.curProgress===this.maxProgress,(function(){t.isMoving=!1,t.currentSpeed=0,t.isHosting=!1,T.dispatchEvent("showGuide",!0)}))},r.arrivalPoint=function(){if(this.node.setWorldPosition(this.posTarget),this.curRoadPoint.moveType===C.ROAD_MOVE_TYPE.BEND&&(this.node.eulerAngles=new c(0,this.targetRotation,0)),this.posSrc.set(this.posTarget),this.posTarget.set(c.ZERO),this.curRoadPoint.next){if(this.curRoadPoint=this.curRoadPoint.next.getComponent("roadPoint"),this.isMain&&(this.curRoadPoint.type===C.ROAD_POINT_TYPE.GREETING?this.greeting():this.curRoadPoint.type===C.ROAD_POINT_TYPE.PLATFORM?this.takeCustomer():this.curRoadPoint.type===C.ROAD_POINT_TYPE.END&&(T.dispatchEvent("gameOver",!0),this.moveAfterFinished())),this.curRoadPoint.next?this.posTarget.set(this.curRoadPoint.next.worldPosition):this._callback&&this._callback(this),this.originRotation=this.node.eulerAngles.y,this.targetRotation=this.originRotation,this.curRoadPoint.moveType===C.ROAD_MOVE_TYPE.BEND){if(this.curRoadPoint.clockwise){this.originRotation=this.originRotation<=0?360+this.originRotation:this.originRotation,this.targetRotation=this.originRotation-90,this.posTarget.x>this.posSrc.x&&this.posTarget.z<this.posSrc.z||this.posTarget.x<this.posSrc.x&&this.posTarget.z>this.posSrc.z?this.circleCenterPoint=new c(this.posTarget.x,0,this.posSrc.z):this.circleCenterPoint=new c(this.posSrc.x,0,this.posTarget.z);var t=c.subtract(new c,this.circleCenterPoint,this.posSrc).length();this.quarter=90/(Math.PI*t/2)}else{this.originRotation=this.originRotation>=360?this.originRotation-360:this.originRotation,this.targetRotation=this.originRotation+90,this.posTarget.x>this.posSrc.x&&this.posTarget.z<this.posSrc.z||this.posTarget.x<this.posSrc.x&&this.posTarget.z>this.posSrc.z?this.circleCenterPoint=new c(this.posSrc.x,0,this.posTarget.z):this.circleCenterPoint=new c(this.posTarget.x,0,this.posSrc.z);var i=c.subtract(new c,this.circleCenterPoint,this.posSrc).length();this.quarter=90/(Math.PI*i/2)}this.node.eulerAngles=new c(0,this.originRotation,0)}}else this.curRoadPoint=null,this._callback&&this._callback(this)},r.update=function(t){if(this.nodeInvincible&&(this.invincibleRotation+=200*t,this.invincibleRotation>360&&(this.invincibleRotation-=360),this.nodeInvincible.eulerAngles=new c(this.invincibleRotation,0,0)),this.tootingCoolTime>0&&(this.tootingCoolTime=this.tootingCoolTime>t?this.tootingCoolTime-t:0),!this.isMoving&&this.currentSpeed<.01||this.posTarget.equals(c.ZERO)||this.isHosting||this.isOver)this.isCarMoving=!1;else{if(this.isCarMoving=!0,this.currentSpeed+=this.accelerate*t,this.currentSpeed=this.currentSpeed>this.maxSpeed?this.maxSpeed:this.currentSpeed,this.currentSpeed<this.minSpeed&&(this.currentSpeed=this.minSpeed,this.isBraking&&(T.dispatchEvent("endBraking"),this.isBraking=!1)),this.arrTyres.length>0){this.curTyreRotation-=200*this.currentSpeed,this.curTyreRotation<-360&&(this.curTyreRotation+=360);for(var i=new c(this.curTyreRotation,0),e=0;e<this.arrTyres.length;e++){this.arrTyres[e].eulerAngles=i}}switch(this.curRoadPoint.moveType){case C.ROAD_MOVE_TYPE.LINE:var s=new c;c.subtract(s,this.posTarget,this.node.worldPosition),s.normalize(),c.multiplyScalar(s,s,this.currentSpeed);var n=this.node.worldPosition;s.add(n),this.posTarget.z!==this.posSrc.z?this.posTarget.z<this.posSrc.z?(this.node.eulerAngles=new c(0,360,0),s.z<this.posTarget.z&&(s.z=this.posTarget.z)):(this.node.eulerAngles=new c(0,180,0),s.z>this.posTarget.z&&(s.z=this.posTarget.z)):this.posTarget.x>this.posSrc.x?(this.node.eulerAngles=new c(0,270,0),s.x>this.posTarget.x&&(s.x=this.posTarget.x)):(this.node.eulerAngles=new c(0,90,0),s.x<this.posTarget.x&&(s.x=this.posTarget.x)),this.node.setWorldPosition(s);break;case C.ROAD_MOVE_TYPE.BEND:var o=this.targetRotation-this.originRotation,r=this.node.eulerAngles.y<0?360+this.node.eulerAngles.y:this.node.eulerAngles.y;this.node.eulerAngles.y>360&&(r=this.node.eulerAngles.y-360);var h=o*Math.abs((r-this.originRotation)/o)+this.currentSpeed*this.quarter*(this.targetRotation>this.originRotation?1:-1);Math.abs(o)<Math.abs(h)&&(h=o);var a=this.originRotation+h,l=c.rotateY(new c,this.posSrc,this.circleCenterPoint,h*Math.PI/180);this.node.setWorldPosition(l),this.node.eulerAngles=new c(0,a,0)}c.subtract(new c,this.posTarget,this.node.worldPosition).lengthSqr()<.001&&this.arrivalPoint()}},r.moveAfterFinished=function(){this.isMoving=!0,this.minSpeed=.2,this.maxSpeed=.2,this.startRunning()},r.tooting=function(){if(!(this.tootingCoolTime>0)){this.tootingCoolTime=5;var t=1===Math.floor(2*Math.random())?f.AUDIO_SOUND.TOOTING1:f.AUDIO_SOUND.TOOTING2;P.instance.playSound(t)}},o(i,[{key:"isMoving",get:function(){return this._isMoving},set:function(t){this._isMoving=t,this.updateBackLight()}},{key:"isHosting",get:function(){return this._isHosting},set:function(t){this._isHosting=t,this.updateBackLight()}},{key:"isInvincible",get:function(){return this._isInvincible},set:function(t){var i=this;if(this._isInvincible=t,t){if(this.nodeInvincible)return void(this.nodeInvincible.active=!0);R.getEffect("shield",(function(t,e){t?console.error(t):(i.nodeInvincible=p(e),i.nodeInvincible.parent=i.node)}))}else this.nodeInvincible&&(this.nodeInvincible.destroy(),this.nodeInvincible=null)}}]),i}(v)).prototype,"maxSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),b=i(M.prototype,"minSpeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),I=i(M.prototype,"nodeGas",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=M))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/carManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./constant.ts","./localConfig.ts","./playerData.ts","./clientEvent.ts","./poolManager.ts","./fightConstants.ts","./car.ts","./follow.ts","./roadPoint.ts"],(function(t){"use strict";var n,a,e,i,r,o,s,c,h,l,f,u,g,C,p,m,d,v,M;return{setters:[function(t){n=t.applyDecoratedDescriptor,a=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Vec3,c=t.macro,h=t.Component},function(t){l=t.resourceUtil},function(t){f=t.constant},function(t){u=t.localConfig},function(t){g=t.playerData},function(t){C=t.clientEvent},function(t){p=t.poolManager},function(t){m=t.fightConstants},function(t){d=t.car},function(t){v=t.follow},function(t){M=t.roadPoint}],execute:function(){var w,y,I,E,_;r._RF.push({},"0ab97H51jJALJr6aO9gzNGg","carManager",void 0);var A=o.ccclass,b=o.property;t("carManager",(w=A("carManager"),y=b({type:v}),w((_=n((E=function(t){function n(){for(var n,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=t.call.apply(t,[this].concat(r))||this,e(n,"followCamera",_,i(n)),n.gameStart=!1,n}a(n,t);var r=n.prototype;return r.start=function(){},r.onEnable=function(){C.on("showInvincible",this.showInvincible,this)},r.onDisable=function(){C.off("showInvincible",this.showInvincible,this)},r.showInvincible=function(){this.mainCar&&(this.mainCar.isInvincible=!0)},r.init=function(t,n){this._fightMap=t,this._customerManager=n,this.creatMainCar()},r.creatMainCar=function(){var t=this,n=g.instance.showCar?g.instance.showCar:f.INITIAL_CAR,a=u.instance.queryByID("car",n.toString()),e=a?a.model:f.MIN_CAR_ID;l.getCar(e,(function(n,a){if(n)console.error(n);else{t.mainCar&&p.instance.putNode(t.mainCar.node);var e=p.instance.getNode(a,t.node);t.mainCar=e.getComponent("car"),t.mainCar.markMainCar(!0),t.mainCar.setEntry(t._fightMap.path[0]),t.mainCar.manager=t._customerManager,t.mainCar.maxProgress=t._fightMap.levelProgressCnt,t.mainCar.setMoveOverListener((function(){})),t.followCamera.followTarget=e,t.followCamera.showStart()}}))},r.preloadAICar=function(t){for(var n=[],a=1;a<this._fightMap.path.length;a++){var e=this._fightMap.path[a].getComponent(M);if(e.type!==m.ROAD_POINT_TYPE.AI_START)return;for(var i=e.cars.split(","),r=0;r<i.length;r++)-1===n.indexOf(i[r])&&n.push(i[r])}var o=0;l.getCarsBatch(n,(function(t){++o<=15&&C.dispatchEvent("updateLoading",2)}),(function(){o<=15&&C.dispatchEvent("updateLoading",30-2*o),t&&t()}))},r.startGenerateEnemy=function(){this.genAICar=this.genAICar.bind(this);for(var t=1;t<this._fightMap.path.length;t++){this._fightMap.path[t].getComponent(M).startGenerateCar(this.genAICar)}},r.stopGenerateEnemy=function(){for(var t=1;t<this._fightMap.path.length;t++){this._fightMap.path[t].getComponent(M).stopGenerateCar()}},r.genAICar=function(t,n){var a=this;l.getCar(n,(function(n,e){if(n)console.error(n);else{var i=p.instance.getNode(e,a.node).getComponent("car");i.setEntry(t.node),i.minSpeed=t.carSpeed,i.maxSpeed=t.carSpeed,i.startRunning(),i.markMainCar(!1),i.setMoveOverListener((function(t){p.instance.putNode(t.node)}))}}))},r.reset=function(){this.mainCar.setEntry(this._fightMap.path[0]),this.mainCar.maxProgress=this._fightMap.levelProgressCnt,this.followCamera.followTarget=this.mainCar.node,this.stopGenerateEnemy(),this.recycleAllAICar()},r.recycleAllAICar=function(){var t=[];this.node.children.forEach((function(n){t.push(n)}),this),t.forEach((function(t){var n=t.getComponent("car");n&&!n.isMain&&p.instance.putNode(t)}))},r.recycleLimitAICar=function(){var t=this,n=[];this.node.children.forEach((function(t){n.push(t)}),this),n.forEach((function(n){var a=n.getComponent("car"),e=s.distance(n.worldPosition,t.mainCar.node.worldPosition);a&&!a.isMain&&Math.abs(e)<=5?p.instance.putNode(n):(a.isOver=!1,a.startRunning())}))},r.controlMainCar=function(t){this.gameStart&&(t?(C.dispatchEvent("showGuide",!1),this.mainCar.startRunning()):this.mainCar.stopRunning())},r.startGame=function(){this.gameStart=!0,C.dispatchEvent("showGuide",!0),this.mainCar.startWithMinSpeed(),this.startGenerateEnemy(),this.schedule(this.checkCarIsCloser,.2,c.REPEAT_FOREVER)},r.gameOver=function(){this.gameStart=!1,this.followCamera.followTarget=null,this.stopGenerateEnemy(),this.unschedule(this.checkCarIsCloser),this.node.children.forEach((function(t){t.getComponent(d).stopImmediately()}))},r.changeCameraFollowRotation=function(){this.followCamera.isFollowRotation=!this.followCamera.isFollowRotation},r.getCurrentProgress=function(){return{cur:this.mainCar.curProgress,isOver:!this.mainCar.hasCustomer}},r.revive=function(){this.recycleLimitAICar(),this.mainCar.revive(),this.followCamera.followTarget=this.mainCar.node,this.startGenerateEnemy()},r.checkCarIsCloser=function(){if(this.mainCar.isCarMoving){var t=this.mainCar.node,n=t.getWorldPosition();this.node.children.forEach((function(a){if(a!==t){var e=a.getWorldPosition(),i=a.forward;e.x-=i.x,e.z-=i.z,Math.abs(e.x-n.x)<2&&Math.abs(e.z-n.z)<2&&a.getComponent(d).tooting()}}))}},n}(h)).prototype,"followCamera",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=E))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/clickBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constant.ts","./uiManager.ts","./gameLogic.ts","./fightConstants.ts"],(function(e){"use strict";var i,t,r,n,o,s,c,l,a,u,h,d,p,g,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,c=e.ProgressBarComponent,l=e.Node,a=e.Label,u=e.Sprite,h=e.Component},function(e){d=e.constant},function(e){p=e.uiManager},function(e){g=e.gameLogic},function(e){f=e.fightConstants}],execute:function(){var B,C,b,w,R,m,k,v,y,_,x,I,P,O,L,T,z;o._RF.push({},"884dcSQc2hHsJby3+7ljIyd","clickBox",void 0);var D=s.ccclass,M=s.property;e("clickBox",(B=D("clickBox"),C=M(c),b=M(l),w=M(a),R=M(l),m=M(l),k=M(l),v=M(u),B((x=i((_=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o))||this,r(i,"progress",x,n(i)),r(i,"nodeReward",I,n(i)),r(i,"lbReward",P,n(i)),r(i,"nodeBox",O,n(i)),r(i,"nodeMenu",L,n(i)),r(i,"nodeClickBtn",T,n(i)),r(i,"spIcon",z,n(i)),i.scheduleTime=0,i.curProgress=50,i.clickTimes=15,i.curClick=0,i.isOpenBox=!1,i.rewardValue=0,i}t(i,e);var o=i.prototype;return o.start=function(){},o.show=function(){this.scheduleTime=0,this.curProgress=50,this.clickTimes=10+Math.floor(5*Math.random()),this.curClick=0,this.isOpenBox=!1,this.nodeClickBtn.active=!0,this.progress.node.active=!0,this.nodeBox.active=!0,this.nodeReward.active=!1,this.nodeMenu.active=!1,g.updateRewardIcon(d.SHARE_FUNCTION.CLICK_BOX,this.spIcon)},o.onBtnBoxClick=function(){this.isOpenBox||(this.curClick++,this.curClick>this.clickTimes?(this.isOpenBox=!0,this.showReward()):(this.curProgress+=20,this.curProgress=this.curProgress>100?100:this.curProgress))},o.showReward=function(){this.nodeClickBtn.active=!1,this.progress.node.active=!1,this.nodeBox.active=!1,this.nodeReward.active=!0,this.nodeMenu.active=!0,this.lbReward.string="+"+f.CLICK_BOX_REWARD,this.rewardValue=f.CLICK_BOX_REWARD},o.update=function(e){this.scheduleTime+=e,this.scheduleTime>=.1&&(this.curProgress-=3,this.curProgress=this.curProgress<0?0:this.curProgress,this.scheduleTime=0),this.progress.progress=this.curProgress/100},o.onBtnNormalClick=function(){g.addGold(f.CLICK_BOX_REWARD),this.close()},o.onBtnDoubleClick=function(){var e=this;g.openReward(d.SHARE_FUNCTION.CLICK_BOX,(function(i){i||(g.addGold(2*f.CLICK_BOX_REWARD),e.close())}))},o.close=function(){p.instance.hideDialog("fight/clickBox")},i}(h)).prototype,"progress",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(_.prototype,"nodeReward",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(_.prototype,"lbReward",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(_.prototype,"nodeBox",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(_.prototype,"nodeMenu",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(_.prototype,"nodeClickBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(_.prototype,"spIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=_))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/clientEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./oneToMultiListener.ts"],(function(t){"use strict";var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){r=t.oneToMultiListener}],execute:function(){var c,o;n._RF.push({},"5a305zVBk5GUIdzJLbOwV+H","clientEvent",void 0);var s=i.ccclass;i.property,t("clientEvent",s("clientEvent")(((o=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n}(r)).handlers={},c=o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/configuration.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var a,s,i,n,e;return{setters:[function(t){a=t.createClass},function(t){s=t.cclegacy,i=t._decorator,n=t.sys,e=t.log}],execute:function(){var o,r;s._RF.push({},"05c37maoztIcqYQxP8Afj1j","configuration",void 0);var c=i.ccclass;t("configuration",c("configuration")(((r=function(){function t(){this.jsonData=null,this.path=null,this.KEY_CONFIG="CarConfig",this.markSave=!1,this.saveTimer=-1}var s=t.prototype;return s.start=function(){var t,a=this;(this.jsonData={userId:""},this.path=this.getConfigPath(),n.isNative)?t=jsb.fileUtils.getValueMapFromFile(this.path)[this.KEY_CONFIG]:t=n.localStorage.getItem(this.KEY_CONFIG);if(t&&t.length){t.startsWith("@")&&(t=t.substring(1));try{var s=JSON.parse(t);this.jsonData=s}catch(t){}}this.saveTimer=setInterval((function(){a.scheduleSave()}),500)},s.setConfigDataWithoutSave=function(t,a){var s=this.jsonData.userId;this.jsonData[s]?this.jsonData[s][t]=a:console.error("no account can not save")},s.setConfigData=function(t,a){this.setConfigDataWithoutSave(t,a),this.markSave=!0},s.getConfigData=function(t){var a=this.jsonData.userId;if(this.jsonData[a]){var s=this.jsonData[a][t];return s||""}return e("no account can not load"),""},s.setGlobalData=function(t,a){this.jsonData[t]=a,this.save()},s.getGlobalData=function(t){return this.jsonData[t]},s.setUserId=function(t){this.jsonData.userId=t,this.jsonData[t]||(this.jsonData[t]={}),this.save()},s.getUserId=function(){return this.jsonData.userId},s.scheduleSave=function(){this.markSave&&this.save()},s.markModified=function(){this.markSave=!0},s.save=function(){var t=JSON.stringify(this.jsonData);if(this.markSave=!1,n.isNative){var a={};a[this.KEY_CONFIG]=t,jsb.fileUtils.writeToFile(a,this.path)}else{n.localStorage.setItem(this.KEY_CONFIG,t)}},s.getConfigPath=function(){var t=n.os,a="";return t===n.OS.WINDOWS?a="src/conf":t===n.OS.LINUX?a="./conf":n.isNative?(a=jsb.fileUtils.getWritablePath(),a+="conf"):a="src/conf",a},s.parseUrl=function(t){if(t&&!("string"==typeof t&&t.length<=0)){var a={};if("string"==typeof t)(t=t.split("?")[1]).split("&").forEach((function(t){var s=t.indexOf("=");if(-1!==s){var i=t.substring(0,s);a[i]=t.substring(s+1)}}));else a=t;a.action&&this.setGlobalData("urlParams",a),a.source&&this.setGlobalData("source",a.source),a.adchannelid&&this.setGlobalData("adchannelid",a.adchannelid)}},t.generateGuestAccount=function(){return""+Date.now()+10},a(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t,this._instance.start()),this._instance}}]),t}())._instance=void 0,o=r))||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/constant.ts",["cc"],(function(E){"use strict";var I;return{setters:[function(E){I=E.cclegacy}],execute:function(){I._RF.push({},"1ad87mpTDFDV7de0xMwTCq4","constant",void 0);var N=E("constant",(function(){}));N.GAME_NAME="car",N.LOCAL_CACHE={PLAYER:"player",SETTINGS:"settings",DATA_VERSION:"dataVersion",ACCOUNT:"account",HISTORY:"history",BAG:"bag"},N.MAX_LEVEL=20,N.MIN_CAR_ID=101,N.MAX_CAR_ID=109,N.AUDIO_SOUND={BACKGROUND:"background",CRASH:"crash",GET_MONEY:"getMoney",IN_CAR:"inCar",NEW_ORDER:"newOrder",CAR_START:"carStart",WIN:"win",STOP:"stop",TOOTING1:"tooting1",TOOTING2:"tooting2"},N.SIGNIN_REWARD_STATUS={RECEIVED:0,RECEIVABLE:1,UNRECEIVABLE:2,FILL_SIGNIN:3,AFTER_FILL_SIGNIN:4},N.MAX_SIGNIN_DAY=7,N.NORMAL_SHOW_TIME=3,N.NEWBEE_LEVEL=2,N.REWARD_TYPE={DIAMOND:1,GOLD:2,CAR:3},N.ONLINE={MAX_TIME:60,PROFIT_PER_SECOND:.3,TIME_PER_CIRCLE:10},N.SHARE_FUNCTION={BALANCE:"balance",RELIVE:"relive",OFFLINE:"offline",RANK:"rank",LOTTERY:"lottery",LOTTERY_REWARD:"lotteryReward",TRIAL:"trial",CLICK_BOX:"clickBox",ONLINE:"online",SIGNIN:"signIn",FILL_SIGNIN:"fillSignIn",INVINCIBLE:"invincible",SHOP_SHARE:"shopShare",SHOP_VIDEO:"shopVideo"},N.INITIAL_CAR=1,N.BUY_CAR_TYPE={GOLD:1,LOGIN:2,CONTINUOUS_LOGIN:3,SHARE:4,VIDEO:5,GAME:6,INVITE:7,SIGNIN:8,PASS_LEVEL:9},N.OPEN_REWARD_TYPE={AD:0,SHARE:1,NULL:2},N.GOLD_REWARD={SECOND:500,SEVENT:500},N.LOTTERY={MONEY:2e3,EXCHANGE:500},N.CUSTOMER_MAX_CNT=2,N.MENU_INIT_BOTTOM=40,N.MENU_BOTTOM=250,I._RF.pop()}}}));

System.register("chunks:///_virtual/csvManager.ts",["cc"],(function(e){"use strict";var t,r;return{setters:[function(e){t=e.cclegacy,r=e._decorator}],execute:function(){var n;t._RF.push({},"64d5aR01mZIArZ14oqSxdz0","csvManager",void 0);var i=r.ccclass,s=[",",";","\t","|","^"],u=["\r\n","\r","\n"],a=function(e,t,r,n){return r instanceof Array?"number"===r[t]?Number(n[t]):"boolean"===r[t]?"true"===n[t]||"t"===n[t]||"1"===n[t]:n[t]:isNaN(Number(e))?"false"==e||"true"==e||"t"==e||"f"==e?"true"===n[t]||"t"===n[t]||"1"===n[t]:n[t]:Number(n[t])},o={STANDARD_DECODE_OPTS:{skip:0,limit:!1,header:!1,cast:!1,comment:""},STANDARD_ENCODE_OPTS:{delimiter:s[0],newline:u[0],skip:0,limit:!1,header:!1},quoteMark:'"',doubleQuoteMark:'""',quoteRegex:/"/g,opts:{},assign:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.prototype.slice.call(arguments);for(var n=t[0],i=t.slice(1),s=0,u=i.length;s<u;s++)for(var a in i[s])n[a]=i[s][a];return n},map:function(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r[n]=t(e[n],n);return r},getType:function(e){return Object.prototype.toString.call(e).slice(8,-1)},getLimit:function(e,t){return!1===e?t:1},buildObjectConstructor:function(e,t,r){return function(n){var i={},s=function(e,t){return i[e]=t};return r?e.forEach((function(e,i){s(e,a(t[i],i,r,n))})):e.forEach((function(e,r){s(e,a(t[r],r,null,n))})),i}},buildArrayConstructor:function(e,t,r){return function(n){var i=new Array(t.length),s=function(e,t){return i[e]=t};return r?e.forEach((function(e,i){s(e,a(t[i],i,r,n))})):e.forEach((function(e,r){s(e,a(t[r],r,null,n))})),i}},frequency:function(e,t,r){void 0===r&&(r=!1);for(var n=0,i=0,s=this.getLimit(r,e.length);i<s&&-1!==(i=e.indexOf(t,i));)i+=1,n++;return n},mostFrequent:function(e,t,r){for(var n="",i=t.length-1;i>=0;i--)this.frequency(e,t[i],r)>0&&(n=t[i]);return n||t[0]},unsafeParse:function(e,t,r){var n,i,s=e.split(t.newline);function u(e){var r=e.shift();if(r.indexOf('"')>=0){for(var n=0,i=0,s=0;e.length>0&&(-1!==(n=r.indexOf('"',i))||s%2!=0);)-1!==n?(i=n+1,s++):r=r+t.newline+e.shift();var u,a=[],o=0,l=0,c=0,h=r.length;for(var f in r)if(r.hasOwnProperty(f)){var d=parseInt(f),v=r[f];0===d&&'"'===v&&(o++,l=1),'"'===v&&(o++,r[d-1]===t.delimiter&&l===d&&l++),'"'===v&&o%2==0&&(r[d+1]!==t.delimiter&&d+1!==h||(c=d,u=r.substring(l,c),a.push(u),c=l=c+2)),v===t.delimiter&&o%2==0&&((c=d)>l?(u=r.substring(l,c),a.push(u),c=l=c+1):c===l&&(a.push(""),c=l=c+1))}return(c=h)>=l&&(u=r.substring(l,c),a.push(u)),a}return r.split(t.delimiter)}for(t.skip>0&&s.splice(t.skip),t.header?(!0===t.header?(t.comment=u(s),t.cast=u(s),n=u(s)):"Array"===this.getType(t.header)&&(n=t.header),i=this.buildObjectConstructor(n,s[0].split(t.delimiter),t.cast)):i=this.buildArrayConstructor(n,s[0].split(t.delimiter),t.cast);s.length>0;){var a=u(s);a.length>1&&r(i(a),n[0])}return!0},safeParse:function(e,t){var r=t.newline,n=e.split(r);return t.skip>0&&n.splice(t.skip),!0},encodeCells:function(e,t,r){for(var n=e.slice(0),i=0,s=n.length;i<s;i++)-1!==n[i].indexOf(this.quoteMark)&&(n[i]=n[i].replace(this.quoteRegex,this.doubleQuoteMark)),-1===n[i].indexOf(t)&&-1===n[i].indexOf(r)||(n[i]=this.quoteMark+n[i]+this.quoteMark);return n.join(t)},encodeArrays:function(e,t,r){var n=t.delimiter,i=t.newline;t.header&&"Array"===this.getType(t.header)&&r(this.encodeCells(t.header,n,i));for(var s=0,u=this.getLimit(t.limit,e.length);s<u;s++)r(this.encodeCells(e[s],n,i));return!0},encodeObjects:function(e,t,r){var n=t.delimiter,i=t.newline,s=[],u=[];for(var a in e[0])s.push(a),u.push(e[0][a]);!0===t.header?r(this.encodeCells(s,n,i)):"Array"===this.getType(t.header)&&r(this.encodeCells(t.header,n,i)),r(this.encodeCells(u,n,"\n"));for(var o=1,l=this.getLimit(t.limit,e.length);o<l;o++){u=[];for(var c=0,h=s.length;c<h;c++)u.push(e[o][s[c]]);r(this.encodeCells(u,n,i))}return!0},parse:function(e,t,r){var n=[];if("Function"===this.getType(t)?(r=t,t={}):"Function"!==this.getType(r)&&(r=n.push.bind(n)),t=this.assign({},this.STANDARD_DECODE_OPTS,t),this.opts=t,!t.delimiter||!t.newline){var i=Math.min(48,Math.floor(e.length/20),e.length);t.delimiter=t.delimiter||this.mostFrequent(e,s,0!==i),t.newline=t.newline||this.mostFrequent(e,u,0!==i)}return this.unsafeParse(e,t,r)&&(!(n.length>0)||n)},encode:function(e,t,r){var n=[];return"Function"===this.getType(t)?r=t:"Function"!==this.getType(r)&&(r=(n=[]).push.bind(n)),(t=this.assign({},this.STANDARD_ENCODE_OPTS,t)).skip>0&&(e=e.slice(t.skip)),("Array"===this.getType(e[0])?this.encodeArrays:this.encodeObjects)(e,t,r)&&(!(n.length>0)||n.join(t.newline))}};e("csvManager",i("csvManager")(n=function(){function e(){this.csvTables={},this.csvTableForArr={},this.tableCast={},this.tableComment={}}var t=e.prototype;return t.addTable=function(e,t,r){if(!this.csvTables[e]||r){var n={},i=[];o.parse(t,{header:!0},(function(e,t){n[e[t]]=e,i.push(e)})),this.tableCast[e]=o.opts.cast,this.tableComment[e]=o.opts.comment,this.csvTables[e]=n,this.csvTableForArr[e]=i}},t.getTableArr=function(e){return this.csvTableForArr[e]},t.getTable=function(e){return this.csvTables[e]},t.queryOne=function(e,t,r){var n=this.getTable(e);if(!n)return null;if(!t)return n[r];for(var i in n)if(n.hasOwnProperty(i)&&n[i][t]===r)return n[i]},t.queryByID=function(e,t){return this.queryOne(e,null,t)},t.queryAll=function(e,t,r){var n=this.getTable(e);if(!n||!t)return null;var i={};for(var s in n)n.hasOwnProperty(s)&&n[s][t]===r&&(i[s]=n[s]);return i},t.queryIn=function(e,t,r){var n=this.getTable(e);if(!n||!t)return null;for(var i={},s=Object.keys(n),u=s.length,a=0;a<u;a++){var o=n[s[a]];r.indexOf(o[t])>-1&&(i[s[a]]=o)}return i},t.queryByCondition=function(e,t){if(t.constructor!==Object)return null;var r=this.getTable(e);if(!r)return null;for(var n={},i=Object.keys(r),s=i.length,u=Object.keys(t),a=u.length,o=0;o<s;o++){for(var l=r[i[o]],c=!0,h=0;h<a;h++){var f=u[h];c=c&&t[f].indexOf(l[f])>-1&&!n[i[o]]}c&&(n[i[o]]=l)}return n},e}())||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/customerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./audioManager.ts","./constant.ts","./clientEvent.ts","./poolManager.ts","./fightConstants.ts"],(function(e){"use strict";var t,o,n,s,r,i,a,u,l,c,d,m,h,C,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,a=e.Vec3,u=e.Animation,l=e.isValid,c=e.Component},function(e){d=e.resourceUtil},function(e){m=e.audioManager},function(e){h=e.constant},function(e){C=e.clientEvent},function(e){f=e.poolManager},function(e){g=e.fightConstants}],execute:function(){var p,v,_;r._RF.push({},"586a8tdaBhPQprl2rcvzztA","customerManager",void 0);var M=i.ccclass,y=i.property;e("customerManager",M("customerManager")((_=t((v=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,n(t,"moveSpeed",_,s(t)),t.nodeCustomer=null,t._targetPos=null,t._callback=void 0,t._offset=null,t.customerId=-1,t.retryTimes=0,t}o(t,e);var r=t.prototype;return r.start=function(){},r.newOrder=function(){this.customerId=Math.floor(Math.random()*h.CUSTOMER_MAX_CNT)+1,C.dispatchEvent("showTalk",this.customerId,g.CUSTOMER_TALK_TIME.NEW_ORDER)},r.greeting=function(e,t,o){var n=this;-1===this.customerId&&(this.customerId=Math.floor(Math.random()*h.CUSTOMER_MAX_CNT)+1),this.nodeCustomer&&(f.instance.putNode(this.nodeCustomer),this.nodeCustomer=null),d.getCustomer(this.customerId.toString(),(function(s,r){if(s)return console.error(s),void(n.retryTimes<3&&n.greeting(e,t,o));n.retryTimes=0,n.nodeCustomer=f.instance.getNode(r,n.node),n.nodeCustomer.active=!0;var i=new a;a.multiplyScalar(i,t,1.3),a.add(i,e,i);var u=i.clone();a.multiplyScalar(i,t,.25),a.add(i,e,i);var l=i.clone();n.nodeCustomer.setWorldPosition(u),0!==t.x?t.x>0?n.nodeCustomer.eulerAngles=new a(0,270,0):n.nodeCustomer.eulerAngles=new a(0,90,0):t.z>0?n.nodeCustomer.eulerAngles=new a(0,180,0):n.nodeCustomer.eulerAngles=new a(0,0,0),m.instance.playSound(h.AUDIO_SOUND.NEW_ORDER),n.customerMove(l,(function(){m.instance.playSound(h.AUDIO_SOUND.IN_CAR),o&&o(),n.scheduleOnce((function(){C.dispatchEvent("showTalk",n.customerId,g.CUSTOMER_TALK_TIME.INTO_THE_CAR)}),1)}))}))},r.takeCustomer=function(e,t,o,n){var s=this;if(this.nodeCustomer){t=new a(t.x,t.y,t.z);var r=new a;a.multiplyScalar(r,t,.25),a.add(r,e,r);var i=r.clone();this.nodeCustomer.active=!0,this.nodeCustomer.setWorldPosition(i),0!==t.x?t.x>0?this.nodeCustomer.eulerAngles=new a(0,90,0):this.nodeCustomer.eulerAngles=new a(0,270,0):t.z>0?this.nodeCustomer.eulerAngles=new a(0,0,0):this.nodeCustomer.eulerAngles=new a(0,180,0),a.multiplyScalar(r,t,1.3),a.add(r,e,r);var u=r.clone();m.instance.playSound(h.AUDIO_SOUND.GET_MONEY),this.customerMove(u,(function(){n&&n(),o||s.scheduleOnce((function(){s.newOrder()}),2)}))}else n&&n()},r.customerMove=function(e,t){this._targetPos=e,this._callback=t,this.nodeCustomer.getComponent(u).play("walk"),this._offset=a.subtract(new a,this._targetPos,this.nodeCustomer.worldPosition),this._offset.multiplyScalar(this.moveSpeed)},r.update=function(e){if(this._targetPos&&this.nodeCustomer){var t=this.nodeCustomer.getWorldPosition(),o=new a;a.multiplyScalar(o,this._offset,e),t.add(o),a.subtract(o,t,this._targetPos).lengthSqr()<.01?this.onMoveOver():this.nodeCustomer.setWorldPosition(t)}},r.onMoveOver=function(){this.nodeCustomer.setWorldPosition(this._targetPos),this.nodeCustomer.active=!1,this._targetPos=null,this._callback&&this._callback()},r.reset=function(){this.nodeCustomer&&l(this.nodeCustomer)&&(this.nodeCustomer.getComponent(u).getState("walk").stop(),this.nodeCustomer.destroy(),this.nodeCustomer=null);this.customerId=-1},t}(c)).prototype,"moveSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),p=v))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/effectManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./audioManager.ts","./constant.ts","./clientEvent.ts","./poolManager.ts","./carManager.ts"],(function(n){"use strict";var e,t,r,i,a,o,c,s,u,l,d,f,g;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,o=n._decorator,c=n.Prefab,s=n.Component},function(n){u=n.audioManager},function(n){l=n.constant},function(n){d=n.clientEvent},function(n){f=n.poolManager},function(n){g=n.carManager}],execute:function(){var h,p,M,N,v,y,k;a._RF.push({},"cf371ivOc1Ae64t3ScAzqjv","effectManager",void 0);var B=o.ccclass,b=o.property;n("effectManager",(h=B("effectManager"),p=b({type:c}),M=b({type:g}),h((y=e((v=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a))||this,r(e,"pfTailLine",y,i(e)),r(e,"carManager",k,i(e)),e.currentNode=null,e}t(e,n);var a=e.prototype;return a.start=function(){},a.onEnable=function(){d.on("startBraking",this.onBrakingStart,this),d.on("endBraking",this.onBrakingEnd,this)},a.onDisable=function(){d.off("startBraking",this.onBrakingStart,this),d.off("endBraking",this.onBrakingEnd,this)},a.onBrakingStart=function(){this.currentNode=f.instance.getNode(this.pfTailLine,this.node),this.currentNode.setWorldPosition(this.carManager.mainCar.node.worldPosition),this.currentNode.eulerAngles=this.carManager.mainCar.node.eulerAngles,u.instance.playSound(l.AUDIO_SOUND.STOP)},a.onBrakingEnd=function(){var n=this.currentNode;this.currentNode=null,this.scheduleOnce((function(){n&&n.isValid&&f.instance.putNode(n)}),2)},a.update=function(n){this.currentNode&&this.carManager.mainCar&&(this.currentNode.setWorldPosition(this.carManager.mainCar.node.worldPosition),this.currentNode.eulerAngles=this.carManager.mainCar.node.eulerAngles)},a.reset=function(){if(this.currentNode){f.instance.putNode(this.currentNode),f.instance.clearPool(this.currentNode.name),this.currentNode=null;for(var n=this.node.children.slice(0),e=0;e<n.length;e++){var t=n[e];t&&t.isValid&&t.destroy()}}},e}(s)).prototype,"pfTailLine",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(v.prototype,"carManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=v))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/en.ts",["cc"],(function(){"use strict";var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"c2ee7NzXEdG1Z3CXlfjoO8M","en",void 0),window.i18nConfig||(window.i18nConfig={}),window.i18nConfig.languages||(window.i18nConfig.languages={}),window.i18nConfig.languages.en={main:{dataLoading:"Data loading...",dataLoadOver:"Data loading completed...",loginSuccess:"Login success...",gameResourceLoading:"Game Resource Loading...",audioResourceLoading:"Audio Resource Loading...",mappingResourceLoading:"Mapping resource loading...",modelResourceLoading:"Model resource loading...",entering:"Entering..."},mainUI:{start:"Click screen to start",changeCar:"Change cars"},shop:{btnClose:"Close",go:"Go",acquired:"Acquired",current:"Current",receive:"Receive",getGold:"Gold coins for watching AD"},balance:{"你完成了%{value}个订单":"Complete %{value} order",youEarnedIt:"You earned it",clickReceive:"Click revive",receiveImmediately:"Receive Now"},carTask:{"初始车辆":"Initial vehicle","分享获得":"Share gain","签到获得":"Signin gain","通过关卡获得":"Get through a checkpoint"},signin:{title:"Sign in on the 7th",notYet:"Not yet",normalReceive:"Normal receive",receive:"Receive",doubleReceive:"Double receive",fillSignin:"Fill signin"},fightManager:{loadingMap:"Loading map...",buildingCity:"Start building cities...",cityLoadOver:"City loaded..."},fightMap:{trimTheGround:"The ground is being trimmed...",pavingTheRoad:"Paving the way...",plantingTree:"The trees are being planted...",decorateHouse:"The house is being renovated...",paintLandmarks:"The landmark is being painted..."},online:{close:"Close",clickReceive:"Click receive",dailyIncome:"Daily income is available"},lottery:{title:"Wheel of fortune",free:"Free"},talk:{"你好,请到街对面接我.":"Hello, please meet me across the street.","停车!停车!":"Stop the car, please! Stop the car, please!","去消费最高的地方.":"Go to the place where you spend the most.","去附近的希尔顿酒店.":"Go to the nearby hilton hotel.","司机快来!我老婆要生了!":"Driver, come on!  My wife is having a baby!","大哥快点,我赶时间.":"Eldest brother hurry up, I'm in a hurry.","师傅,5分钟内能到吗?":"Master, can you be there in 5 minutes?","师傅,你是老司机嘛?":"Master, are you an old driver?","师傅,你跑一天能赚多少?":"Master, how much do you earn per day?","师傅快点,我要赶飞机.":"Master, hurry up, I have to catch the plane.","师傅跟上那辆法拉利.":"Master, keep up with that Ferrari.","带我去最近的银行.":"Take me to the nearest bank.","帮我跟上前面那辆车!":"Help me keep up with the car in front!","快去火车站,我赶车!":"Go to the railway station, I'll catch the bus!","我在酒店大堂门口等你.":"I'll wait for you at the gate of the hotel lobby.","要下雨了,你快来!":"It's going to rain, you come quickly!"},showReward:{title:"Reward",normalReceive:"Normal receive",ReceiveImmediately:" Receive Now",doubleReceive:"Double receive",alreadyHadCar:"You already own the vehicle and automatically convert it into the corresponding gold coin.",buySuccessful:"Buy successful",confrim:"Confrim",signinReward:"Signin reward"},revive:{reviveImmediately:"Resurrection Now",skip:"Skip",tips:"It's a pity that we came close to the finish line.!",continue:"Resurrection continues."},clickBox:{title:"Mysterious gift",progress:"The faster you click, the more rewards you will receive.",clickMe:"click me fast",normalReceive:"Normal receive",doubleReceive:"Double receive"},trial:{title:"Free trial",tryItNow:"Try It Now",giveUp:"Give up the trial and start the game."},invinceible:{title:"Invincible start",confirm:"Confrim",close:"Close"},setting:{title:"Setting",version:"Version:",close:"Close"}},e._RF.pop()}}}));

System.register("chunks:///_virtual/eventListener.ts",["cc"],(function(t){"use strict";var e,n,r,s;return{setters:[function(t){e=t.cclegacy,n=t._decorator,r=t.error,s=t.log}],execute:function(){var i,o;e._RF.push({},"10a09om3sZD8q2H50TLwLIc","eventListener",void 0);var a=n.ccclass,u=(n.property,a("oneToOneListener")(i=function(){function t(){this.supportEvent={},this.handle={},this.supportEvent=null}var e=t.prototype;return e.on=function(t,e,n){this.handle[t]={handler:e,target:n}},e.off=function(t,e){var n=this.handle[t];n&&n.handler&&n.handler===e&&delete this.handle[t]},e.dispatchEvent=function(t){if(null===this.supportEvent||this.supportEvent.hasOwnProperty(t)){for(var e=this.handle[t],n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);e.handler?e.handler.apply(e.target,n):s("not register "+t+"    callback func")}else r("please add the event into clientEvent.js")},e.setSupportEventList=function(t){if(!(t instanceof Array))return r("supportEvent was not array"),!1;for(var e in this.supportEvent={},t){var n=t[e];this.supportEvent[n]=e}return!0},t}())||i);t("eventListener",a("eventListener")(o=function(){function t(){}return t.getBaseClass=function(t){return u},t}())||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/fightCanvas.ts",["./rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./gameLogic.ts","./carManager.ts","./loading.ts"],(function(i){"use strict";var t,n,e,o,r,a,s,u,c,h,l,g,d;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,a=i._decorator,s=i.SpriteFrame,u=i.Node,c=i.Component},function(i){h=i.clientEvent},function(i){l=i.gameLogic},function(i){g=i.carManager},function(i){d=i.loading}],execute:function(){var f,p,v,T,b,m,y,L,w,P,C,E,M;r._RF.push({},"daea1EBoy1Ms6PBdAupQWnn","fightCanvas",void 0);var S=a.ccclass,U=a.property;i("fightCanvas",(f=S("fightCanvas"),p=U(g),v=U(s),T=U(s),b=U(d),m=U(u),f((w=t((L=function(i){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=i.call.apply(i,[this].concat(r))||this,e(t,"carManager",w,o(t)),e(t,"imgShare",P,o(t)),e(t,"imgVideo",C,o(t)),e(t,"loadingUI",E,o(t)),e(t,"tip",M,o(t)),t.curProgress=50,t.isFirstLoad=!0,t.isTouching=!1,t}n(t,i);var r=t.prototype;return r.start=function(){l.imgAd=this.imgVideo,l.imgShare=this.imgShare,this.loadingUI.show(this.curProgress),this.node.on(u.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(u.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(u.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},r.onEnable=function(){h.on("updateLoading",this.updateLoadingProgress,this),h.on("showGuide",this.showGuide,this)},r.onDisable=function(){h.off("updateLoading",this.updateLoadingProgress,this),h.off("showGuide",this.showGuide,this)},r.onTouchStart=function(){this.isTouching=!0,this.tip.active=!1,this.carManager.controlMainCar(!0)},r.onTouchEnd=function(){this.isTouching=!1,this.carManager.controlMainCar(!1)},r.showGuide=function(i){var t=this;i&&this.isTouching&&this.scheduleOnce((function(){t.onTouchStart()}),0)},r.updateLoadingProgress=function(i,t){this.isFirstLoad?this.curProgress+=Math.floor(i/2):this.curProgress+=i,this.loadingUI.updateProgress(this.curProgress,t)},r.loadNewLevel=function(){this.loadingUI.node.active=!0,this.curProgress=0,this.isFirstLoad=!1},r.finishLoading=function(){this.loadingUI.node.active=!1},t}(c)).prototype,"carManager",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(L.prototype,"imgShare",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(L.prototype,"imgVideo",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(L.prototype,"loadingUI",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(L.prototype,"tip",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=L))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/fightConstants.ts",["cc"],(function(t){"use strict";var R;return{setters:[function(t){R=t.cclegacy}],execute:function(){R._RF.push({},"dbe36y+LwBGGIL8I87F3O+/","fightConstants",void 0);var _=t("fightConstants",(function(){}));_.ROAD_POINT_TYPE={NORMAL:1,START:2,GREETING:3,PLATFORM:4,END:5,AI_START:6},_.ROAD_MOVE_TYPE={LINE:1,BEND:2},_.CAR_GROUP={NORMAL:1,MAIN_CAR:2,OTHER_CAR:4},_.CUSTOMER_TALK_TIME={INTO_THE_CAR:1,NEW_ORDER:2},_.CLICK_BOX_REWARD=300,R._RF.pop()}}}));

System.register("chunks:///_virtual/fightManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./playerData.ts","./clientEvent.ts","./uiManager.ts","./LanguageData.ts","./fightConstants.ts","./carManager.ts","./customerManager.ts","./effectManager.ts","./fightCanvas.ts","./fightMap.ts"],(function(e){"use strict";var t,a,n,i,r,o,s,c,l,h,u,f,g,v,p,d,M,m,y,L,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Node,c=e.Collider,l=e.instantiate,h=e.Component},function(e){u=e.resourceUtil},function(e){f=e.playerData},function(e){g=e.clientEvent},function(e){v=e.uiManager},function(e){p=e.i18n},function(e){d=e.fightConstants},function(e){M=e.carManager},function(e){m=e.customerManager},function(e){y=e.effectManager},function(e){L=e.fightCanvas},function(e){C=e.fightMap}],execute:function(){var b,w,I,O,G,D,U,k,P,z,E,F,R,N,S;r._RF.push({},"f3d36qkNslPB4TIGcZlp8vd","fightManager",void 0);var T=o.ccclass,_=o.property;e("fightManager",(b=T("fightManager"),w=_(L),I=_({type:C}),O=_({type:m}),G=_({type:M}),D=_({type:y}),U=_({type:s,displayName:"地面"}),b((z=t((P=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"fightLoading",z,i(t)),n(t,"mapManager",E,i(t)),n(t,"customerManager",F,i(t)),n(t,"carManager",R,i(t)),n(t,"effectManager",N,i(t)),n(t,"nodeGround",S,i(t)),t.isStart=!1,t.isOver=!1,t.isFinishedLevel=!1,t.money=0,t.curLevel=0,t.hasRevive=!1,t}a(t,e);var r=t.prototype;return r.start=function(){var e=this;this.initGround(),this.loadMap((function(){e.initCar(),e.loadCar()}))},r.onEnable=function(){g.on("startGame",this.startGame,this),g.on("takeCustomer",this.onTakeCustomer,this),g.on("gameOver",this.gameOver,this),g.on("newLevel",this.newLevel,this),g.on("updateCar",this.updateMainCar,this),g.on("revive",this.revive,this)},r.onDisable=function(){g.off("startGame",this.startGame,this),g.off("takeCustomer",this.onTakeCustomer,this),g.off("gameOver",this.gameOver,this),g.off("newLevel",this.newLevel,this),g.off("updateCar",this.updateMainCar,this),g.off("revive",this.revive,this)},r.initGround=function(){var e=this.nodeGround.getComponent(c);e.setGroup(d.CAR_GROUP.NORMAL),e.setMask(-1)},r.loadMap=function(e){var t=this,a=1;f.instance.playerInfo&&(console.log("###playerData.instance.playerInfo.realLevel;",f.instance.playerInfo.realLevel),a=f.instance.playerInfo.passCheckPoint?f.instance.playerInfo.realLevel||a:f.instance.playerInfo.level||a,console.log("###level",a)),this.curLevel=a,console.log("load level "+this.curLevel);var n=this.curLevel>100?this.curLevel:this.curLevel+100;g.dispatchEvent("updateLoading",4,p.t("fightManager.loadingMap")),u.getMap(n,(function(a,n){a?console.error(a):(g.dispatchEvent("updateLoading",10,p.t("fightManager.buildingCity")),t.mapManager.buildMap(n,(function(){}),(function(){g.dispatchEvent("updateLoading",6,p.t("fightManager.cityLoadOver")),e&&e()})))}))},r.initCar=function(){this.carManager.init(this.mapManager,this.customerManager)},r.reset=function(){this.carManager.reset(),this.customerManager.reset(),this.effectManager.reset(),this.isStart=!1,this.isOver=!1,this.isFinishedLevel=!1,this.money=0,this.hasRevive=!1,this.loadCar()},r.loadCar=function(){var e=this;this.carManager.preloadAICar((function(){e.fightLoading.finishLoading(),e.showMainUI()}))},r.startGame=function(){this.isStart||(this.isStart=!0,this.carManager.startGame(),this.showFightUI())},r.gameOver=function(e){this.isOver||(this.isFinishedLevel=e,this.isOver=!0,this.carManager.gameOver(),this.showBalanceUI())},r.onTakeCustomer=function(){var e=this,t=Math.floor(30+this.curLevel/2+Math.floor(10*Math.random()));this.money+=t,g.dispatchEvent("makeMoney",t),u.getEffect("coin",(function(t,a){t&&console.error(t);var n=l(a);n.parent=e.node,e.carManager.mainCar&&n.setWorldPosition(e.carManager.mainCar.node.getWorldPosition()),e.scheduleOnce((function(){n.destroy()}),2)}))},r.showMainUI=function(){v.instance.showDialog("main/mainUI")},r.showFightUI=function(){v.instance.hideDialog("main/mainUI"),v.instance.showDialog("fight/fightUI",[this])},r.showBalanceUI=function(){var e=this.carManager.getCurrentProgress();v.instance.showDialog("fight/balance",[f.instance.playerInfo.level,e.cur,e.isOver,this.mapManager.levelProgressCnt,this.money,this.isFinishedLevel])},r.newLevel=function(e){var t=this;this.fightLoading.loadNewLevel(),v.instance.hideDialog("fight/fightUI"),this.hasRevive=!1,e?(this.mapManager.recycle(),this.loadMap((function(){t.reset()}))):this.reset()},r.updateMainCar=function(){this.carManager.creatMainCar()},r.revive=function(){this.carManager.revive()},t}(h)).prototype,"fightLoading",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(P.prototype,"mapManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(P.prototype,"customerManager",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(P.prototype,"carManager",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(P.prototype,"effectManager",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(P.prototype,"nodeGround",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=P))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/fightMap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./clientEvent.ts","./poolManager.ts","./LanguageData.ts","./fightConstants.ts","./roadPoint.ts"],(function(e){"use strict";var t,r,i,n,s,o,a,c,l,h,p,d,u,g,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,a=e.Node,c=e.Vec3,l=e.Component},function(e){h=e.resourceUtil},function(e){p=e.clientEvent},function(e){d=e.poolManager},function(e){u=e.i18n},function(e){g=e.fightConstants},function(e){f=e.roadPoint}],execute:function(){var v,M,P,y,m;s._RF.push({},"273adkVLRhECoDje+nCdBuE","fightMap",void 0);var b=o.ccclass,L=o.property;e("fightMap",(v=b("fightMap"),M=L({type:a,displayName:"各路线起点"}),v((m=t((y=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"path",m,n(t)),t._progressListener=void 0,t._completeListener=void 0,t.curProgress=0,t.maxProgress=0,t.levelProgressCnt=0,t}r(t,e);var s=t.prototype;return s.buildMap=function(e,t,r){this._progressListener=t,this._completeListener=r,this.objMap=e,this.curProgress=0,this.maxProgress=6,this.buildModel("plane"),this.buildModel("road"),this.buildModel("tree"),this.buildModel("house"),this.buildModel("sign"),this.buildPath()},s.buildModel=function(e){var t=this;if(this.objMap.hasOwnProperty(e)){for(var r=[],i=this.objMap[e],n=0;n<i.children.length;n++){var s=i.children[n].name;-1===r.indexOf(s)&&r.push(s)}var o={};h.getMapObjs(e,r,(function(){}),(function(r,n){if(r)console.error(r);else{for(var s=0;s<n.length;s++){var l=n[s];o[l.data.name]=l}var h=new a(e);h.parent=t.node,h.setPosition(new c(i.pX,i.pY,i.pZ));for(var p=0;p<i.children.length;p++){var u=i.children[p],g=o[u.name],f=d.instance.getNode(g,h);f.setPosition(u.pX,u.pY,u.pZ),f.eulerAngles=new c(u.rX,u.rY,u.rZ),f.setScale(u.sX,u.sY,u.sZ)}t.triggerFinished(e)}}))}else this.triggerFinished(e)},s.buildPath=function(){if(this.objMap.hasOwnProperty("path")){this.path=[],this.levelProgressCnt=0;var e=this.objMap.path,t=new a("path");t.parent=this.node,t.setPosition(e.pX,e.pY,e.pZ);for(var r=0;r<e.children.length;r++){var i=e.children[r],n=new a(i.name);n.parent=t,n.setPosition(i.pX,i.pY,i.pZ);var s=this.createRoadPoint(i.path,n);s&&this.path.push(s)}this.triggerFinished("path")}},s.createRoadPoint=function(e,t){if(!e)return null;var r=new a(e.name);r.parent=t,r.setPosition(e.pX,e.pY,e.pZ),r.setScale(e.sX,e.sY,e.sZ),r.eulerAngles=new c(e.rX,e.rY,e.rZ);var i=r.addComponent(f);return i.type=e.type,i.moveType=e.moveType,i.clockwise=e.clockwise,i.direction=e.direction,i.delayTime=e.delayTime,i.genInterval=e.genInterval,i.carSpeed=e.carSpeed,i.cars=e.cars,i.type===g.ROAD_POINT_TYPE.PLATFORM&&this.levelProgressCnt++,e.next&&(i.next=this.createRoadPoint(e.next,t)),r},s.triggerFinished=function(e){var t="";switch(e){case"plane":t=u.t("fightMap.trimTheGround");break;case"road":t=u.t("fightMap.pavingTheRoad");break;case"tree":t=u.t("fightMap.plantingTree");break;case"house":t=u.t("fightMap.decorateHouse");break;case"sign":t=u.t("fightMap.paintLandmarks")}t&&p.dispatchEvent("updateLoading",10,t),this.curProgress++,this._progressListener&&this._progressListener(this.curProgress,this.maxProgress),this.curProgress>=this.maxProgress&&this._completeListener&&this._completeListener()},s.recycle=function(){this.recycleModel("plane"),this.recycleModel("road"),this.recycleModel("tree"),this.recycleModel("house"),this.recycleModel("sign"),this.node.removeAllChildren()},s.recycleModel=function(e){var t=this.node.getChildByName(e);if(t)for(var r=0;r<t.children.length;r++){var i=t.children[r];d.instance.putNode(i)}},t}(l)).prototype,"path",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=y))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/fightUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./localConfig.ts","./playerData.ts","./clientEvent.ts","./LanguageData.ts"],(function(e){"use strict";var i,t,n,r,o,a,s,l,u,h,g,c,p,f,m,d,b,w;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Sprite,l=e.Label,u=e.Node,h=e.SpriteFrame,g=e.Animation,c=e.director,p=e.Component},function(e){f=e.resourceUtil},function(e){m=e.localConfig},function(e){d=e.playerData},function(e){b=e.clientEvent},function(e){w=e.i18n}],execute:function(){var v,y,M,T,k,G,C,S,z,F,L,P,E,I,U,A,D,N,O,H,R,_,B,V,j,x,Z,q,J,K,Q,W,X,Y,$,ee,ie,te,ne,re,oe,ae,se,le,ue;o._RF.push({},"fb9b7V8bZND35IgNyATVMNv","fightUI",void 0);var he=a.ccclass,ge=a.property;e("fightUI",(v=he("fightUI"),y=ge(s),M=ge(s),T=ge({type:l}),k=ge({type:l}),G=ge({type:u,displayName:"进度项"}),C=ge(u),S=ge(l),z=ge(l),F=ge(s),L=ge(h),P=ge(h),E=ge(h),I=ge(h),U=ge(h),A=ge(g),D=ge(u),N=ge(s),O=ge(h),H=ge(h),R=ge(h),_=ge(h),v((j=i((V=function(e){function i(){var i;return i=e.call(this)||this,n(i,"spStart",j,r(i)),n(i,"spEnd",x,r(i)),n(i,"curLevel",Z,r(i)),n(i,"targetLevel",q,r(i)),n(i,"progress",J,r(i)),n(i,"nodeTalk",K,r(i)),n(i,"lbTalk",Q,r(i)),n(i,"lbMake",W,r(i)),n(i,"spHead",X,r(i)),n(i,"imgLevelFinished",Y,r(i)),n(i,"imgLevelUnfinished",$,r(i)),n(i,"imgProgressNoActive",ee,r(i)),n(i,"imgProgressActive",ie,r(i)),n(i,"imgProgressFinished",te,r(i)),n(i,"aniMakeMoney",ne,r(i)),n(i,"nodeGuide",re,r(i)),i.fightManager=null,i.carManager=null,n(i,"spShowGuideTip",oe,r(i)),n(i,"img01",ae,r(i)),n(i,"img02",se,r(i)),n(i,"img01En",le,r(i)),n(i,"img02En",ue,r(i)),i.isShowGuide=!1,i.showGuideTime=0,i.gameStart=!1,i}t(i,e);var o=i.prototype;return o.start=function(){},o.onEnable=function(){b.on("greetingCustomer",this.updateCarProgress,this),b.on("takeCustomer",this.updateCarProgress,this),b.on("startGame",this.startGame,this),b.on("gameOver",this.gameOver,this),b.on("showTalk",this.showCustomerTalk,this),b.on("makeMoney",this.onMakeMoney,this),b.on("showGuide",this.showGuide,this)},o.onDisable=function(){b.off("greetingCustomer",this.updateCarProgress,this),b.off("takeCustomer",this.updateCarProgress,this),b.off("startGame",this.startGame,this),b.off("gameOver",this.gameOver,this),b.off("showTalk",this.showCustomerTalk,this),b.off("makeMoney",this.onMakeMoney,this),b.off("showGuide",this.showGuide,this)},o.onTouchStart=function(){this.nodeGuide.getComponent(g).stop(),this.nodeGuide.active=!1},o.show=function(e){this.fightManager=e,this.carManager=this.fightManager.carManager,this.refreshUI(),this.carManager.mainCar.isMoving||this.showGuide(!0)},o.startGame=function(){this.gameStart=!0},o.gameOver=function(){this.gameStart=!1,c.getScheduler().isScheduled(this.hideTalk,this)&&(this.unschedule(this.hideTalk),this.hideTalk()),this.updateCarProgress()},o.showGuide=function(e){this.nodeGuide.active=e;var i=this.nodeGuide.getComponent(g);e?i.play():i.stop(),e?(this.isShowGuide=!0,this.showGuideTime=0,i.getState("showGuide").setTime(0)):(this.isShowGuide=!1,this.showGuideTime=0)},o.onBtnAgainClick=function(){b.dispatchEvent("newLevel",!1)},o.onBtnChangeCameraRotation=function(){this.carManager.changeCameraFollowRotation()},o.refreshUI=function(){for(var e=this.fightManager.mapManager.levelProgressCnt,i=0;i<e;i++)this.progress[i].active=!0,this.progress[i].getComponent(s).spriteFrame=this.imgProgressNoActive;for(var t=e;t<this.progress.length;t++)this.progress[t].active=!1;var n=d.instance.playerInfo?d.instance.playerInfo.level:1;this.curLevel.string=""+n,this.targetLevel.string=""+(n+1),this.spStart.spriteFrame=this.imgLevelFinished,this.spEnd.spriteFrame=this.imgLevelUnfinished},o.updateCarProgress=function(){for(var e=this.carManager.getCurrentProgress(),i=e.cur,t=e.isOver?i:i-1,n=0;n<t;n++)this.progress[n].getComponent(s).spriteFrame=this.imgProgressFinished;e.isOver||(this.progress[t].getComponent(s).spriteFrame=this.imgProgressActive),this.fightManager.isFinishedLevel&&(this.spEnd.spriteFrame=this.imgLevelFinished)},o.showCustomerTalk=function(e,i){if(this.gameStart){var t=m.instance.getTableArr("talk"),n=[];t.forEach((function(e){e.type===i&&n.push(e)}));var r=Math.floor(Math.random()*n.length),o=n[r];this.lbTalk.string=w.t("talk."+o.content),f.setCustomerIcon(e,this.spHead,(function(){})),this.nodeTalk.active=!0,this.nodeTalk.getComponent(g).play(),this.scheduleOnce(this.hideTalk,4)}},o.hideTalk=function(){this.nodeTalk.active=!1},o.onMakeMoney=function(e){var i=this;this.aniMakeMoney.node.active=!0,this.lbMake.string="+"+e,this.aniMakeMoney.play(),this.aniMakeMoney.once(g.EventType.FINISHED,(function(){i.aniMakeMoney.node.active=!1}),this)},o.update=function(e){this.isShowGuide&&(0===Math.floor(this.showGuideTime)&&("zh"===window.i18nConfig.curLang?this.spShowGuideTip.spriteFrame=this.img01:"en"===window.i18nConfig.curLang&&(this.spShowGuideTip.spriteFrame=this.img01En)),this.showGuideTime+=e,1===Math.floor(this.showGuideTime)?"zh"===window.i18nConfig.curLang?this.spShowGuideTip.spriteFrame=this.img02:"en"===window.i18nConfig.curLang&&(this.spShowGuideTip.spriteFrame=this.img02En):2===Math.floor(this.showGuideTime)&&("zh"===window.i18nConfig.curLang?this.spShowGuideTip.spriteFrame=this.img01:"en"===window.i18nConfig.curLang&&(this.spShowGuideTip.spriteFrame=this.img01En),this.showGuideTime=0))},i}(p)).prototype,"spStart",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(V.prototype,"spEnd",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(V.prototype,"curLevel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(V.prototype,"targetLevel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(V.prototype,"progress",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=i(V.prototype,"nodeTalk",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(V.prototype,"lbTalk",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(V.prototype,"lbMake",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(V.prototype,"spHead",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(V.prototype,"imgLevelFinished",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(V.prototype,"imgLevelUnfinished",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=i(V.prototype,"imgProgressNoActive",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(V.prototype,"imgProgressActive",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i(V.prototype,"imgProgressFinished",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=i(V.prototype,"aniMakeMoney",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=i(V.prototype,"nodeGuide",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=i(V.prototype,"spShowGuideTip",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=i(V.prototype,"img01",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=i(V.prototype,"img02",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=i(V.prototype,"img01En",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=i(V.prototype,"img02En",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=V))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/flyReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./flyRewardItem.ts"],(function(e){"use strict";var t,i,n,r,a,o,l,s,c,d,u,f,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.SpriteFrame,s=e.Node,c=e.Animation,d=e.find,u=e.Vec3,f=e.Component},function(e){h=e.clientEvent},function(e){p=e.flyRewardItem}],execute:function(){var y,v,m,w,R,b,g,_,I;a._RF.push({},"d14d4EewSBFtIn6B/rRUvjM","flyReward",void 0);var P=o.ccclass,k=o.property;e("flyReward",(y=P("flyReward"),v=k(l),m=k(s),w=k(c),y((g=t((b=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"imgGold",g,r(t)),n(t,"ndRewardParent",_,r(t)),n(t,"aniBoom",I,r(t)),t.finishIdx=0,t._callback=void 0,t.isGoldOrDiamond=!0,t}i(t,e);var a=t.prototype;return a.start=function(){this.aniBoom.play(),this.createReward()},a.getTargetPos=function(){var e=d("Canvas/goldPos");return e?e.position:(this.node.destroy(),this._callback&&this._callback(),u.ZERO)},a.createReward=function(){for(var e=this,t=this.imgGold,i=this.getTargetPos(),n=0;n<10;n++){var r=new s("flyRewardItem"),a=r.addComponent(p);r.parent=this.ndRewardParent,r.layer=this.ndRewardParent.layer,a.show(t,i,(function(t){e.onFlyOver(t)}))}},a.setInfo=function(e){this.isGoldOrDiamond=e},a.onFlyOver=function(e){this.isGoldOrDiamond?h.dispatchEvent("receiveGold"):h.dispatchEvent("receiveDiamond"),e.active=!1,this.finishIdx++,10===this.finishIdx&&(this._callback&&this._callback(),this.node.destroy())},a.setEndListener=function(e){this._callback=e},t}(f)).prototype,"imgGold",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(b.prototype,"ndRewardParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(b.prototype,"aniBoom",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=b))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/flyRewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,a,o,n,r,s,i;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,o=t._decorator,n=t.Sprite,r=t.Vec3,s=t.tween,i=t.Component}],execute:function(){var c;a._RF.push({},"62dd66o/TBEyqhX8gZkE8/G","flyRewardItem",void 0);var l=o.ccclass;o.property,t("flyRewardItem",l("flyRewardItem")(c=function(t){function a(){for(var e,a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).targetPos=new r,e.targetRotation=new r(0,0,0),e.targetScale=new r(1,1,1),e.posLast=new r,e._callback=null,e}e(a,t);var o=a.prototype;return o.start=function(){},o.show=function(t,e,a){var o=this;this.posLast.set(e),this._callback=a;var i=this.node.addComponent(n);i.trim=!1,i.sizeMode=n.SizeMode.RAW,i.spriteFrame=t,this.node.eulerAngles=new r(0,0,Math.floor(360*Math.random())),this.targetRotation=new r(this.node.eulerAngles);var c=new r(Math.floor(300*Math.random())-150,Math.floor(300*Math.random())-150,0),l=r.distance(c,new r(0,0,0))/400;s(this.targetPos).to(l,c,{easing:"cubicInOut"}).start();var h=120+Math.floor(60*Math.random());h=this.targetRotation.z+Math.floor(2*Math.random())===1?h:-h,s(this.targetRotation).to(l,new r(0,0,h)).start(),s(this.targetScale).to(2*l/3,new r(1.4,1.4,1.4)).to(l/3,new r(1,1,1)).call((function(){o.move2Target()})).start()},o.move2Target=function(){var t=this,e=r.distance(this.node.position,this.posLast)/1500,a=Math.floor(10*Math.random())/10;s(this.targetScale).to(.3,new r(1.4,1.4,1.4)).to(.7,new r(1,1,1)).union().repeat(50).start(),this.scheduleOnce((function(){s(t.targetPos).to(e,t.posLast).call((function(){t._callback&&t._callback(t.node)})).start()}),a)},o.update=function(t){this.node.position=this.targetPos,this.node.eulerAngles=this.targetRotation,this.node.setScale(this.targetScale)},a}(i))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/follow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,e,i,l,r,n,s,a,f;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,i=o.initializerDefineProperty,l=o.assertThisInitialized},function(o){r=o.cclegacy,n=o._decorator,s=o.Node,a=o.Vec3,f=o.Component}],execute:function(){var w,u,h,c,d,g,p;r._RF.push({},"ff8ee6OQldPNLrgLpXROotm","follow",void 0);var y=n.ccclass,P=n.property;o("follow",(w=y("follow"),u=P({type:s}),w((d=t((c=function(o){function t(){var t;return t=o.call(this)||this,i(t,"followTarget",d,l(t)),i(t,"isFollowRotation",g,l(t)),i(t,"offset",p,l(t)),t.moveSpeed=3,t.isPlayingStart=!1,t}e(t,o);var r=t.prototype;return r.start=function(){},r.showStart=function(){},r.lateUpdate=function(o){if(this.followTarget){var t=this.node.worldPosition;if(this.isPlayingStart){var e=new a(this.followTarget.worldPosition.x+this.offset.x,this.followTarget.worldPosition.y+this.offset.y,this.followTarget.worldPosition.z+this.offset.z);a.subtract(new a,t,e).length()>.001&&a.lerp(e,t,e,this.moveSpeed*o),this.node.setWorldPosition(e),this.node.lookAt(this.followTarget.worldPosition,new a(0,1,0))}else{var i=this.offset;this.isFollowRotation&&(i=a.transformQuat(new a,this.offset,this.followTarget.rotation));var l=new a(this.followTarget.worldPosition.x+i.x,this.followTarget.worldPosition.y+i.y,this.followTarget.worldPosition.z+i.z);if(this.node.setWorldPosition(l),this.node.lookAt(this.followTarget.worldPosition,new a(0,1,0)),this.isFollowRotation){var r=new a(this.node.eulerAngles);r.y=this.followTarget.eulerAngles.y,this.node.eulerAngles=r}}}},t}(f)).prototype,"followTarget",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(c.prototype,"isFollowRotation",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=t(c.prototype,"offset",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),h=c))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/gameLogic.ts",["cc","./configuration.ts","./resourceUtil.ts","./constant.ts","./playerData.ts","./clientEvent.ts","./uiManager.ts","./flyReward.ts"],(function(n){"use strict";var e,t,i,a,c,s,o,u,r;return{setters:[function(n){e=n.cclegacy,t=n._decorator},function(n){i=n.configuration},function(n){a=n.resourceUtil},function(n){c=n.constant},function(n){s=n.playerData},function(n){o=n.clientEvent},function(n){u=n.uiManager},function(n){r=n.flyReward}],execute:function(){var d,f;e._RF.push({},"b6eeddtwEdPDYszSPn2rVjb","gameLogic",void 0);var g=t.ccclass;n("gameLogic",g("gameLogic")(((f=function(){function n(){}return n.addGold=function(n){s.instance.updatePlayerInfo("gold",n),o.dispatchEvent("updateGold")},n.useCar=function(n){s.instance.useCar(n),o.dispatchEvent("updateCar")},n.buyCar=function(n){s.instance.buyCar(n),o.dispatchEvent("buyCar")},n.isVibrateOpen=function(){var n=i.instance.getGlobalData("vibrate");return null==n&&(n=!0),n},n.getOpenRewardType=function(n,e,t){e(null,c.OPEN_REWARD_TYPE.NULL)},n.checkIsByVideoAds=function(){return!1},n.updateRewardIcon=function(n,e,t,i,a){var s=this;this.getOpenRewardType(n,(function(n,o){switch(o){case c.OPEN_REWARD_TYPE.AD:e.node.active=!0,e.spriteFrame=i||s.imgAd;break;case c.OPEN_REWARD_TYPE.SHARE:e.node.active=!0,e.spriteFrame=a||s.imgShare;break;case c.OPEN_REWARD_TYPE.NULL:e.node.active=!1}t&&t(n,o)}))},n.finishBuyTask=function(n,e,t){s.instance.finishBuyTask(n,e,t),o.dispatchEvent("updateBuyTask")},n.openReward=function(n,e){e&&e(null)},n.afterLogin=function(){s.instance.isNewBee||this.checkSignIn()},n.checkSignIn=function(){1!==s.instance.playerInfo.level&&(s.instance.updateSignInCurrentDay(),s.instance.getSignInReceivedInfo().isTodayReceived||u.instance.pushToPopupSeq("signIn/signIn","signIn",{}))},n.showFlyReward=function(n,e){a.createUI("common/flyReward",(function(n,t){n?e&&e():t.getComponent(r).setEndListener(e)}))},n}()).imgAd=null,f.imgShare=null,d=f))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./audioManager.ts","./setting.ts"],(function(t){"use strict";var e,o,n,i,a,r,c,s,u,l,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.AudioSource,s=t.assert,u=t.game,l=t.Component},function(t){p=t.audioManager},function(t){d=t.setting}],execute:function(){var f,h,y,g,m;a._RF.push({},"98dcdQl8GhEYLJRG8ap+Eh+","GameRoot",void 0);var v=r.ccclass,R=r.property;t("GameRoot",(f=v("GameRoot"),h=R(c),f((m=e((g=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"_audioSource",m,i(e)),e}o(e,t);var a=e.prototype;return a.onLoad=function(){var t=this.getComponent(c);s(t),this._audioSource=t,u.addPersistRootNode(this.node),p.instance.init(this._audioSource)},a.onEnable=function(){p.instance.playMusic(!0),d.checkState()},a.start=function(){"undefined"!=typeof cocosAnalytics&&cocosAnalytics.enableDebug(!0)},e}(l)).prototype,"_audioSource",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/invincible.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./constant.ts","./localConfig.ts","./playerData.ts","./clientEvent.ts","./poolManager.ts","./uiManager.ts","./gameLogic.ts"],(function(n){"use strict";var t,e,i,r,o,c,a,l,u,s,p,f,g,h,b,C,d,v;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,c=n._decorator,a=n.Node,l=n.Widget,u=n.Sprite,s=n.Component},function(n){p=n.resourceUtil},function(n){f=n.constant},function(n){g=n.localConfig},function(n){h=n.playerData},function(n){b=n.clientEvent},function(n){C=n.poolManager},function(n){d=n.uiManager},function(n){v=n.gameLogic}],execute:function(){var I,y,_,m,w,N,k,B,D;o._RF.push({},"ec04bogempOHrQhVVHVqSZV","invincible",void 0);var E=c.ccclass,M=c.property;n("invincible",(I=E("invincible"),y=M(a),_=M(l),m=M(u),I((k=t((N=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return t=n.call.apply(n,[this].concat(o))||this,i(t,"nodeCarParent",k,r(t)),i(t,"wgMenu",B,r(t)),i(t,"spIcon",D,r(t)),t._callback=void 0,t.currentCar=null,t}e(t,n);var o=t.prototype;return o.start=function(){},o.show=function(n){var t=this;if(!this._callback){this._callback=n,v.updateRewardIcon(f.SHARE_FUNCTION.INVINCIBLE,this.spIcon,(function(n,t){})),this.currentCar&&(C.instance.putNode(this.currentCar),this.currentCar=null);var e=g.instance.queryByID("car",h.instance.showCar.toString());p.getUICar(e.model,(function(n,i){n?console.error(n,e.model):t.currentCar=C.instance.getNode(i,t.nodeCarParent)}))}},o.onBtnCloseClick=function(){d.instance.hideDialog("main/invincible"),this._callback&&this._callback(),this._callback=void 0},o.onBtnOKClick=function(){var n=this;v.openReward(f.SHARE_FUNCTION.INVINCIBLE,(function(t,e){t||(b.dispatchEvent("showInvincible"),n.onBtnCloseClick())}))},t}(s)).prototype,"nodeCarParent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(N.prototype,"wgMenu",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(N.prototype,"spIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=N))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc","./polyglot.min.ts"],(function(n){"use strict";var e,t,i;return{setters:[function(n){e=n.cclegacy,t=n.director},function(n){i=n.Polyglot}],execute:function(){var r;function o(n){return window.i18nConfig.languages[n]}function a(n){n&&(r?r.replace(n):r=new i({phrases:n,allowMissing:!0}))}e._RF.push({},"d6597NeRz5OuZ6kceJkHWc3","LanguageData",void 0),window.i18nConfig||(window.i18nConfig={languages:{},curLang:""}),n("i18n",function(){function n(){}return n.init=function(n){if(n&&n!==window.i18nConfig.curLang){var e=o(n)||{};window.i18nConfig.curLang=n,a(e),this.inst=r}},n.t=function(n,e){0===Object.keys(r.phrases).length&&(a(o(window.i18nConfig.curLang)||{}),console.warn("###防止出现parses数据丢失，重新替换数据"));if(r)return r.t(n,e)},n.prototype.updateSceneRenderers=function(){for(var n=t.getScene().children,e=[],i=0;i<n.length;++i){var r=n[i].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(e,r)}for(var o=0;o<e.length;++o){var a=e[o];a.node.active&&a.updateLabel()}for(var c=[],u=0;u<n.length;++u){var g=n[u].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(c,g)}for(var s=0;s<c.length;++s){var l=c[s];l.node.active&&l.updateSprite(window.i18nConfig.curLang)}},n}()).inst=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./updateValueLabel.ts"],(function(r){"use strict";var t,s,e,i,o,n,a,l,u,g;return{setters:[function(r){t=r.applyDecoratedDescriptor,s=r.inheritsLoose,e=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){o=r.cclegacy,n=r._decorator,a=r.Label,l=r.Vec3,u=r.Component},function(r){g=r.updateValueLabel}],execute:function(){var c,p,h,P,b,d,f;o._RF.push({},"99c5fx0klFHq52oGPdZL7Z5","loading",void 0);var y=n.ccclass,v=n.property;r("loading",(c=y("loading"),p=v(g),h=v(a),c((d=t((b=function(r){function t(){for(var t,s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return t=r.call.apply(r,[this].concat(o))||this,e(t,"lbProgress",d,i(t)),e(t,"lbTips",f,i(t)),t.targetProgress=0,t.oriPos=new l,t}s(t,r);var o=t.prototype;return o.start=function(){this.show(0)},o.show=function(r){this.targetProgress=r||0,this.lbProgress.playUpdateValue(this.targetProgress,this.targetProgress,0),this.lbProgress.isPlaying=!1,this.lbTips.string="",this.oriPos.set(this.lbProgress.node.position)},o.updateProgress=function(r,t){this.targetProgress=r;var s=Number(this.lbProgress.label.string);this.lbProgress.playUpdateValue(s,this.targetProgress,(this.targetProgress-s)/20),t&&(this.lbTips.string=t),this.oriPos&&this.lbProgress.node.setPosition(new l(this.oriPos.x-10,this.oriPos.y,this.oriPos.z))},t}(u)).prototype,"lbProgress",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=t(b.prototype,"lbTips",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=b))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/localConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./csvManager.ts"],(function(n){"use strict";var r,t,e,a,s;return{setters:[function(n){r=n.createClass},function(n){t=n.cclegacy,e=n._decorator},function(n){a=n.resourceUtil},function(n){s=n.csvManager}],execute:function(){var i,c;t._RF.push({},"acd0cVlaIhLurmAIUS/N+2B","localConfig",void 0);var o=e.ccclass;e.property,n("localConfig",o("localConfig")(((c=function(){function n(){this.csvManager=null,this.arrCars=[],this._callback=null,this._skills={},this.currentLoad=0,this.cntLoad=0,this.servers=[]}var t=n.prototype;return t.loadConfig=function(n){this._callback=n,this.csvManager=new s,this.loadCSV()},t.loadCSV=function(){var n=this,r=["talk","car","signIn"];this.cntLoad=r.length+1,r.forEach((function(r,t,e){a.getData(r,(function(t,e){n.csvManager.addTable(r,e),n.tryToCallbackOnFinished()}))})),a.getJsonData("servers",(function(r,t){n.servers=t,n.tryToCallbackOnFinished()}))},t.queryOne=function(n,r,t){return this.csvManager.queryOne(n,r,t)},t.queryByID=function(n,r){return this.csvManager.queryByID(n,r)},t.getTable=function(n){return this.csvManager.getTable(n)},t.getTableArr=function(n){return this.csvManager.getTableArr(n)},t.getCars=function(){if(this.arrCars.length>0)return this.arrCars;var r=n.instance.getTableArr("car");return this.arrCars=r.sort((function(n,r){return n.sort-r.sort})),this.arrCars},t.queryAll=function(n,r,t){return this.csvManager.queryAll(n,r,t)},t.queryIn=function(n,r,t){return this.csvManager.queryIn(n,r,t)},t.queryByCondition=function(n,r){return this.csvManager.queryByCondition(n,r)},t.tryToCallbackOnFinished=function(){this._callback&&(this.currentLoad++,this.currentLoad>=this.cntLoad&&this._callback())},t.getCurrentServer=function(){return this.servers[0]},t.getVersion=function(){var n=this.getCurrentServer();return n?n.version:"unknown"},r(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,i=c))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(t){"use strict";var e,a,i,n,o,r,l,c,u,s,d,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,l=t._decorator,c=t.log,u=t.Label,s=t.error,d=t.Component},function(t){p=t.i18n}],execute:function(){var h,b,f,D;r._RF.push({},"c4c1axXN+NL4oYQEr2M4qn2","LocalizedLabel",void 0);var L=l.ccclass,y=l.property;t("default",L("LocalizedLabel")(((D=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._debouncedUpdateLabel=null,e.label=null,i(e,"_dataID",f,n(e)),e}a(e,t);var r=e.prototype;return r.onLoad=function(){p.inst||p.init(),c("dataID: "+this.dataID+" value: "+p.t(this.dataID)),this.fetchRender()},r.fetchRender=function(){var t=this.getComponent(u);if(t)return this.label=t,void this.updateLabel()},r.updateLabel=function(){this.label?p.t(this.dataID,{})&&(this.label.string=p.t(this.dataID,{})):s("Failed to update localized label, label component is invalid!")},r.debounce=function(t,e,a){var i=arguments,n=this,o=-1;return function(){var r=i,l=function(){o=-1,a||t.apply(n,r)}.bind(n),c=a&&!o;clearTimeout(o),o=setTimeout(l,e),c&&t.apply(n,r)}.bind(this)},o(e,[{key:"dataID",get:function(){return this._dataID},set:function(t){this._dataID!==t&&(this._dataID=t,this.updateLabel())}}]),e}(d)).editor={executeInEditMode:!0,menu:"i18n/LocalizedLabel"},f=e((b=D).prototype,"_dataID",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(b.prototype,"dataID",[y],Object.getOwnPropertyDescriptor(b.prototype,"dataID"),b.prototype),h=b))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpriteFrameSet.ts"],(function(e){"use strict";var t,i,r,n,a,s,o,p,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,o=e.Sprite,p=e.error,c=e.Component},function(e){u=e.default}],execute:function(){var l,d,f,h,m,S;a._RF.push({},"28bd9xEMv1GKLbTuAi4B4dI","LocalizedSprite",void 0);var g=s.ccclass,F=s.property;e("default",(l=g("LocalizedSprite"),d=F({type:[u],displayOrder:1}),l(((S=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).sprite=null,r(t,"spriteFrameSet",m,n(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.fetchRender()},a.fetchRender=function(){var e=this.getComponent(o);if(e)return this.sprite=e,void this.updateSprite(window.i18nConfig.curLang)},a.getSpriteFrameByLang=function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},a.updateSprite=function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),t&&(this.sprite.spriteFrame=t)}else p("Failed to update localized sprite, sprite component is invalid!")},t}(c)).editor={executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},m=t((h=S).prototype,"spriteFrameSet",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=h))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/lodash.ts",["cc"],(function(r){"use strict";var n,t;return{setters:[function(r){n=r.cclegacy,t=r._decorator}],execute:function(){var e,i;n._RF.push({},"8cbacDdVTBOgZQMyvQzOeAz","lodash",void 0);var u=t.ccclass;r("lodash",u("lodash")(((i=function(){function r(){}return r.find=function(r,n){var t;if(Array.isArray(r)||(r=this.toArray(r)),(t=r.filter(n)).length)return t[0]},r.forEach=function(r,n){Array.isArray(r)?r.forEach(n):this.toArrayKey(r).forEach((function(t,e,i){var u=t.key,o=t.value;n(o,u,r)}))},r.cloneDeep=function(r){if(null===r||"object"!=typeof r)return r;var n={};for(var t in r.constructor===Array&&(n=[]),r)r.hasOwnProperty(t)&&(n[t]=this.cloneDeep(r[t]));return n},r.map=function(r,n){Array.isArray(r)||(r=this.toArray(r));var t=[];return r.forEach((function(r,e,i){t.push(n(r,e,i))})),t},r.random=function(r,n){var t=Math.random()*(n-r+1)+r;return Math.floor(t)},r.toArrayKey=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&n.push({key:t,value:r[t]});return n},r.toArray=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&n.push(r[t]);return n},r.filter=function(r,n){return Array.isArray(r)||(r=this.toArray(r)),r.filter(n)},r.isEqual=function(r,n){if(!(r instanceof Object)||!(n instanceof Object))return r===n;if(Object.keys(r).length!==Object.keys(n).length)return!1;for(var t in r){var e=r[t]instanceof Object,i=n[t]instanceof Object;if(e&&i)return this.isEqual(r[t],n[t]);if(r[t]!==n[t])return!1}return!0},r.pullAllWith=function(r,n,t){return n.forEach((function(n){r.filter((function(r){return t(r,n)})).forEach((function(n){var t=r.indexOf(n);-1!==r.indexOf(n)&&r.splice(t,1)}))})),r},r.now=function(){return Date.now()},r.pullAll=function(r,n){return n.forEach((function(n){var t=r.indexOf(n);-1!==r.indexOf(n)&&r.splice(t,1)})),r},r.forEachRight=function(r,n){Array.isArray(r)||(r=this.toArray(r));for(var t=r.length-1;t>=0;t--){if(!n(r[t]))break}},r.startsWith=function(r,n,t){return(r=r.substr(t)).startsWith(n)},r.endsWith=function(r,n,t){return(r=r.substr(t)).endsWith(n)},r.remove=function(r,n){var t=[],e=[];return r.forEach((function(r,i){n(r)&&(t.push(r),e.push(i))})),this.basePullAt(r,e),t},r.basePullAt=function(r,n){for(var t,e=r?n.length:0,i=e-1;e--;){var u=n[e];e!==i&&u===t||(t=u,Array.prototype.splice.call(r,u,1))}return r},r.findIndex=function(r,n,t){var e;if(r=r.slice(t),"function"==typeof n){for(e=0;e<r.length;e++)if(n(r[e]))return e}else if(Array.isArray(n))for(e=0;e<r.length;e++){var i=n[0],u=!0;if(n.length>1&&(u=n[1]),r[e][i]===u)return e}else for(e=0;e<r.length;e++)if(r[e]===n)return e;return-1},r.concat=function(){var r=arguments.length;if(!r)return[];for(var n=arguments[0],t=1;t<r;)n=n.concat(arguments[t]),t++;return n},r.isNumber=function(r){return"number"==typeof r},r.indexOf=function(r,n,t){return(r=r.slice(t)).indexOf(n)},r.join=function(r,n){if(null===r)return"";var t="";return r.forEach((function(r){t+=r+n})),t.substr(0,t.length-1)},r.split=function(r,n,t){return r.split(n,t)},r.max=function(r){if(r&&r.length){for(var n,t=0;t<r.length;t++)0===t?n=r[0]:n<r[t]&&(n=r[t]);return n}},r.drop=function(r,n){return(null===r?0:r.length)?r.slice(n):[]},r.flattenDeep=function(r){return r.reduce((function(r,n){return r.concat(n)}))},r.uniq=function(r){var n=[];return r.forEach((function(r){-1===n.indexOf(r)&&n.push(r)})),n},r.isNaN=function(r){return this.isNumber(r)&&r!==+r},r.chunk=function(r,n){if(!(null===r?0:r.length)||n<1)return[];for(var t=[];r.length>n;)t.push(r.slice(0,n)),r=r.slice(n);return t.push(r),t},r.toFinite=function(r){var n=1/0;return r?(r=Number(r))===n||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0},r.baseRange=function(r,n,t,e){for(var i=-1,u=(0,Math.max)((0,Math.ceil)((n-r)/(t||1)),0),o=Array(u);u--;)o[e?u:++i]=r,r+=t;return o},r.isObject=function(r){var n=typeof r;return null!==r&&("object"===n||"function"===n)},r.isLength=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=r.MAX_SAFE_INTEGER},r.isArrayLike=function(r){return null!==r&&this.isLength(r.length)},r.eq=function(r,n){return r===n||r!=r&&n!=n},r.isIndex=function(n,t){var e=typeof n;return!!(t=null===t?r.MAX_SAFE_INTEGER:t)&&("number"===e||"symbol"!==e&&/^(?:0|[1-9]\d*)$/.test(n))&&n>-1&&n%1==0&&n<t},r.isIterateeCall=function(r,n,t){if(!this.isObject(t))return!1;var e=typeof n;return!!("number"===e?this.isArrayLike(t)&&this.isIndex(n,t.length):"string"===e&&n in t)&&this.eq(t[n],r)},r.createRange=function(r){var n=this;return function(t,e,i){return i&&"number"!=typeof i&&n.isIterateeCall(t,e,i)&&(e=i=void 0),t=n.toFinite(t),void 0===e?(e=t,t=0):e=n.toFinite(e),i=void 0===i?t<e?1:-1:n.toFinite(i),n.baseRange(t,e,i,r)}.bind(this)},r.maxBy=function(r,n){if(r&&r.length){for(var t=-1,e=-1,i=0;i<r.length;i++)0===i?(t=n(r[0]),e=r[0]):t<r[i]&&(t=r[i],e=r[i]);return e}},r.minBy=function(r,n){if(r&&r.length){for(var t=-1,e=-1,i=0;i<r.length;i++)0===i?(t=n(r[0]),e=r[0]):t>r[i]&&(t=n(r[i]),e=r[i]);return e}},r.sumBy=function(r,n){var t=0;for(var e in r)t+=n(r[e]);return t},r.countBy=function(r){var n={};for(var t in r){var e=r[t];n.hasOwnProperty(e)?n[e]+=1:n[e]=1}return n},r}()).MAX_SAFE_INTEGER=9007199254740991,e=i))||e);n._RF.pop()}}}));

System.register("chunks:///_virtual/lottery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./configuration.ts","./constant.ts","./localConfig.ts","./playerData.ts","./clientEvent.ts","./uiManager.ts","./gameLogic.ts","./lodash.ts","./lotteryItem.ts"],(function(t){"use strict";var e,n,r,i,a,o,l,s,u,c,b,h,f,d,y,p,g,m,w,B,R,v,C,I,L,E,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,l=t._decorator,s=t.Node,u=t.Prefab,c=t.Button,b=t.Label,h=t.SpriteFrame,f=t.Sprite,d=t.instantiate,y=t.Color,p=t.Vec3,g=t.tween,m=t.Component},function(t){w=t.configuration},function(t){B=t.constant},function(t){R=t.localConfig},function(t){v=t.playerData},function(t){C=t.clientEvent},function(t){I=t.uiManager},function(t){L=t.gameLogic},function(t){E=t.lodash},function(t){D=t.lotteryItem}],execute:function(){var A,T,M,z,k,O,_,N,Y,F,P,G,V,S,x,U,H,j,q,J,W,Z,K,Q,X,$,tt,et,nt;o._RF.push({},"d7ed7RMvvZIvbdJyWwfIGDy","lottery",void 0);var rt=l.ccclass,it=l.property;t("lottery",(A=rt("lottery"),T=it(s),M=it(u),z=it(s),k=it(s),O=it(c),_=it(c),N=it(b),Y=it(h),F=it(h),P=it(h),G=it(f),V=it(f),S=it(f),A((H=e((U=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"arrRewardNode",H,i(e)),r(e,"pfRewardItem",j,i(e)),r(e,"nodeTurnable",q,i(e)),r(e,"ndBtnClose",J,i(e)),r(e,"btnLottery",W,i(e)),r(e,"btnAd",Z,i(e)),r(e,"lbMoney",K,i(e)),r(e,"imgLotteryBtnDisable",Q,i(e)),r(e,"imgLotteryBtnEnable",X,i(e)),r(e,"imgAdBtnEnable",$,i(e)),r(e,"spLotteryBtn",tt,i(e)),r(e,"spAdIcon",et,i(e)),r(e,"spAdBtn",nt,i(e)),e.arrRewardData=[],e.arrLotteryItem=[],e.arrProbability=[],e.randValue=0,e.curRotation=null,e._receiveCarTimes=0,e}n(e,t);var o=e.prototype;return o.start=function(){},o.onEnable=function(){C.on("buyCar",this.onBuyCar,this)},o.onDisable=function(){C.off("buyCar",this.onBuyCar,this)},o.onBuyCar=function(){this.initReward()},o.show=function(){this.initReward(),this.initInfo(),this.btnAd.node.active=!0},o.initReward=function(){var t=R.instance.getCars(),e=[];if(t.forEach((function(t){v.instance.hasCar(t.ID)||t.type!==B.BUY_CAR_TYPE.GOLD||e.push(t.ID)})),e.length<6)for(var n=E.cloneDeep(v.instance.playerInfo.cars);e.length<6;){var r=Math.floor(Math.random()*n.length),i=n[r];R.instance.queryByID("car",i).type===B.BUY_CAR_TYPE.GOLD&&e.push(n.splice(r,1)[0])}this.arrRewardData=e,this.arrProbability=[];for(var a=0,o=0;o<this.arrRewardNode.length;o++){var l=this.arrRewardNode[o],s=this.arrLotteryItem[o];if(s||((s=d(this.pfRewardItem)).parent=l,this.arrLotteryItem[o]=s),this.arrRewardData.length>o){var u=this.arrRewardData[o];s.getComponent(D).show(u);var c=a,b=a+100/6;this.arrProbability.push({min:c,max:b,idx:o}),a=b}}},o.initInfo=function(){this.lbMoney.string=""+B.LOTTERY.MONEY,this.checkButton()},o.checkButton=function(){var t=this.checkIsFree();this.btnAd.node.active=t,this.btnLottery.node.active=!t,t||(v.instance.playerInfo.gold>B.LOTTERY.MONEY?(this.lbMoney.color=new y(163,64,27),this.lotteryBtnEnable=!0,this.adBtnEnable=!1):(this.lbMoney.color=y.RED,this.lotteryBtnEnable=!1,this.adBtnEnable=!0),L.updateRewardIcon(B.SHARE_FUNCTION.LOTTERY,this.spAdIcon,(function(){})))},o.checkIsFree=function(){var t=v.instance.playerInfo.signInInfo.currentDay,e=w.instance.getGlobalData("rewardDays");return void 0===e||parseInt(e)<t},o.getRandValue=function(){for(var t=-1;-1===t;)for(var e=Math.floor(100*Math.random()),n=0;n<this.arrProbability.length;n++){var r=this.arrProbability[n];if(e>=r.min&&e<r.max){t=r.idx;break}}return t},o.onBtnStartClick=function(){L.addGold(-B.LOTTERY.MONEY),this.startRun()},o.onBtnAdClick=function(){var t=this,e=w.instance.getGlobalData("rewardDays");w.instance.setGlobalData("rewardDays",""+(e?parseInt(e)+1:0)),L.openReward(B.SHARE_FUNCTION.LOTTERY,(function(e){e||t.startRun()}))},o.startRun=function(){var t=this;this.lotteryBtnEnable=!1,this.adBtnEnable=!1,this.ndBtnClose.getComponent(c).interactable=!1,this.randValue=this.getRandValue();var e=this.nodeTurnable.eulerAngles.z%360;this.nodeTurnable.eulerAngles=new p(0,0,e);var n=360-e,r=3+Math.floor(4*Math.random()),i=-360-360*r+60*this.randValue+30-360;this.curRotation=this.nodeTurnable.eulerAngles.clone(),g(this.curRotation).to(n/360+.5*r,new p(0,0,i),{easing:"cubicOut"}).call((function(){t.curRotation=null,t.showReward()})).start()},o.showReward=function(){this.ndBtnClose.getComponent(c).interactable=!0,this.arrLotteryItem[this.randValue].getComponent(D).showReward(this),this.checkButton()},o.onBtnCloseClick=function(){I.instance.hideDialog("lottery/lottery")},o.update=function(t){this.curRotation&&(this.nodeTurnable.eulerAngles=this.curRotation)},a(e,[{key:"receiveCarTimes",get:function(){return this._receiveCarTimes},set:function(t){console.log("#####receiveCarTimes",t),this._receiveCarTimes=t}},{key:"lotteryBtnEnable",set:function(t){t?(this.btnLottery.interactable=!0,this.spLotteryBtn.spriteFrame=this.imgLotteryBtnEnable):(this.btnLottery.interactable=!1,this.spLotteryBtn.spriteFrame=this.imgLotteryBtnDisable)}},{key:"adBtnEnable",set:function(t){t?(this.btnAd.interactable=!0,this.spAdBtn.spriteFrame=this.imgAdBtnEnable):(this.btnAd.interactable=!1,this.spAdBtn.spriteFrame=this.imgLotteryBtnDisable)}}]),e}(m)).prototype,"arrRewardNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(U.prototype,"pfRewardItem",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(U.prototype,"nodeTurnable",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(U.prototype,"ndBtnClose",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(U.prototype,"btnLottery",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(U.prototype,"btnAd",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(U.prototype,"lbMoney",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(U.prototype,"imgLotteryBtnDisable",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(U.prototype,"imgLotteryBtnEnable",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(U.prototype,"imgAdBtnEnable",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(U.prototype,"spLotteryBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(U.prototype,"spAdIcon",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(U.prototype,"spAdBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=U))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/lotteryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./constant.ts","./localConfig.ts","./playerData.ts","./uiManager.ts","./LanguageData.ts"],(function(t){"use strict";var e,n,r,o,i,a,c,l,s,u,f,p,h,m,I,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,c=t.SpriteFrame,l=t.Sprite,s=t.Label,u=t.Component},function(t){f=t.resourceUtil},function(t){p=t.constant},function(t){h=t.localConfig},function(t){m=t.playerData},function(t){I=t.uiManager},function(t){y=t.i18n}],execute:function(){var w,d,g,D,R,b,v,C,T;i._RF.push({},"93fc8seXTpPJqvHF6Jlpios","lotteryItem",void 0);var E=a.ccclass,L=a.property;t("lotteryItem",(w=E("lotteryItem"),d=L(c),g=L(l),D=L(s),w((v=e((b=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,r(e,"imgGold",v,o(e)),r(e,"spItem",C,o(e)),r(e,"lbValue",T,o(e)),e.carInfo=void 0,e}n(e,t);var i=e.prototype;return i.start=function(){},i.show=function(t){this.carInfo=h.instance.queryByID("car",t),f.setCarIcon(this.carInfo.model,this.spItem,!1,(function(){}))},i.showReward=function(t){if(console.log(this.carInfo.ID),m.instance.hasCar(this.carInfo.ID)){var e={rewardType:p.REWARD_TYPE.GOLD,amount:p.LOTTERY.EXCHANGE,ID:this.carInfo.ID};I.instance.showDialog("common/showReward",[e,!1,y.t("showReward.title"),function(){},y.t("showReward.alreadyHadCar")])}else{var n={rewardType:p.REWARD_TYPE.CAR,amount:1,ID:this.carInfo.ID};I.instance.showDialog("common/showReward",[n,!1,y.t("showReward.title"),function(){t.receiveCarTimes+=1}])}},e}(u)).prototype,"imgGold",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(b.prototype,"spItem",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(b.prototype,"lbValue",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=b))||R));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./configuration.ts","./resourceUtil.ts","./audioManager.ts","./constant.ts","./util.ts","./csvManager.ts","./localConfig.ts","./playerData.ts","./oneToMultiListener.ts","./clientEvent.ts","./poolManager.ts","./tips.ts","./uiManager.ts","./flyRewardItem.ts","./flyReward.ts","./gameLogic.ts","./polyglot.min.ts","./LanguageData.ts","./balance.ts","./blockInputEvent.ts","./btnAdapter.ts","./fightConstants.ts","./car.ts","./follow.ts","./roadPoint.ts","./carManager.ts","./clickBox.ts","./customerManager.ts","./effectManager.ts","./en.ts","./eventListener.ts","./updateValueLabel.ts","./loading.ts","./fightCanvas.ts","./fightMap.ts","./fightManager.ts","./fightUI.ts","./setting.ts","./GameRoot.ts","./invincible.ts","./LocalizedLabel.ts","./SpriteFrameSet.ts","./LocalizedSprite.ts","./lodash.ts","./lotteryItem.ts","./lottery.ts","./main.ts","./mainUI.ts","./online.ts","./onlineDouble.ts","./revive.ts","./shopItem.ts","./shopPage.ts","./shop.ts","./showReward.ts","./signInItem.ts","./signIn.ts","./trial.ts","./zh.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./configuration.ts","./localConfig.ts","./playerData.ts","./LanguageData.ts","./loading.ts"],(function(e){"use strict";var i,n,r,o,s,a,t,c,u,g,d,l,h,f,P;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,t=e.Label,c=e.assetManager,u=e.director,g=e.Component},function(e){d=e.configuration},function(e){l=e.localConfig},function(e){h=e.playerData},function(e){f=e.i18n},function(e){P=e.loading}],execute:function(){var p,m,b,L,I,y,S;s._RF.push({},"c5aa7IsWr5A4blPeFPanXM/","main",void 0);var v=a.ccclass,U=a.property;f.init("zh");e("main",(p=v("main"),m=U(t),b=U(P),p((y=i((I=function(e){function i(){for(var i,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s))||this,r(i,"lbVersion",y,o(i)),r(i,"loadingUI",S,o(i)),i.retryTimes=0,i.uid="",i.curProgress=0,i.isLoginFinished=!1,i.isSubPackageFinished=!1,i.isConfigLoaded=!1,i}n(i,e);var s=i.prototype;return s.start=function(){var e=this;this.loadingUI.show(),h.instance.syncServerTime(Date.now()),this.curProgress=5,this.loadingUI.updateProgress(this.curProgress,f.t("main.dataLoading")),l.instance.loadConfig((function(){e.lbVersion.string="Version. "+l.instance.getVersion(),e.isConfigLoaded=!0,e.loadMainScene()})),this.curProgress+=5,this.loadingUI&&this.loadingUI.updateProgress(this.curProgress,f.t("main.dataLoadOver")),this.curProgress+=5,this.curProgress+=15,this.loadingUI.updateProgress(this.curProgress,f.t("main.gameResourceLoading")),h.instance.loadGlobalCache(),h.instance.userId?this.uid=h.instance.userId:this.uid=d.generateGuestAccount(),this.startLogin(),this.downloadGameRes((function(){e.isSubPackageFinished=!0,e.loadMainScene()}))},s.startLogin=function(){d.instance.setUserId(this.uid),h.instance.syncServerTime(Date.now()),this.userLogin()},s.userLogin=function(){h.instance.loadFromCache(),void 0===h.instance.playerInfo.createDate&&h.instance.createPlayerInfo(),console.log("login finished!"),this.isLoginFinished=!0,this.loadMainScene()},s.downloadGameRes=function(e){this.curProgress+=15,this.loadingUI.updateProgress(this.curProgress),e&&e()},s.showSubPackageError=function(){},s.loadGameSubPackage=function(e){var i=this;this.loadingUI.updateProgress(this.curProgress,f.t("main.audioResourceLoading")),c.loadBundle("resources",(function(n){if(i.curProgress+=5,i.loadingUI.updateProgress(i.curProgress,f.t("main.audioResourceLoading")),n)return i.showSubPackageError(),console.error(n);c.loadBundle("textures",(function(n){if(i.curProgress+=5,i.loadingUI.updateProgress(i.curProgress,f.t("main.mappingResourceLoading")),n)return i.showSubPackageError(),console.error(n);c.loadBundle("model",(function(n){if(i.curProgress+=5,i.loadingUI.updateProgress(i.curProgress,f.t("main.modelResourceLoading")),n)return i.showSubPackageError(),console.error(n);e&&e()}))}))}))},s.loadMainScene=function(){var e=this;this.isConfigLoaded&&this.isLoginFinished&&this.isSubPackageFinished&&u.preloadScene("main",(function(i){e.curProgress+=5,e.loadingUI.updateProgress(e.curProgress,f.t("main.entering")),i||u.loadScene("main",(function(){}))}))},i}(g)).prototype,"lbVersion",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(I.prototype,"loadingUI",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=I))||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/mainUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constant.ts","./util.ts","./playerData.ts","./clientEvent.ts","./uiManager.ts","./gameLogic.ts"],(function(n){"use strict";var t,e,i,a,o,r,s,c,l,u,h,d,f,p,g,C,v,I,y;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){o=n.cclegacy,r=n._decorator,s=n.Sprite,c=n.Label,l=n.Node,u=n.Vec3,h=n.tween,d=n.sys,f=n.Component},function(n){p=n.constant},function(n){g=n.util},function(n){C=n.playerData},function(n){v=n.clientEvent},function(n){I=n.uiManager},function(n){y=n.gameLogic}],execute:function(){var S,b,w,D,G,m,R,E,B,k,L,T,P,_,z;o._RF.push({},"6e662xQs9xPfZ4Gn7vNo4u5","mainUI",void 0);var A=r.ccclass,x=r.property;n("mainUI",(S=A("mainUI"),b=x(s),w=x(c),D=x(l),G=x(l),m=x(l),R=x(l),S((k=t((B=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return t=n.call.apply(n,[this].concat(o))||this,i(t,"spIcon",k,a(t)),i(t,"lbGold",L,a(t)),i(t,"nodeBtnService",T,a(t)),i(t,"nodeSignInRedDot",P,a(t)),i(t,"nodeGoldIcon",_,a(t)),i(t,"nodeShopRedDot",z,a(t)),t.targetScale=new u(1,1,1),t.isGoldPlaying=!1,t.arrCars=[],t.isShowAniFinished=!1,t.debugIdx=0,t.debugTimer=0,t}e(t,n);var o=t.prototype;return o.start=function(){y.afterLogin(),this.updateSignIn()},o.onEnable=function(){v.on("updateGold",this.updateGold,this),v.on("updateSignIn",this.updateSignIn,this),v.on("receiveGold",this.receiveGold,this),v.on("updateCar",this.updateCar,this),v.on("buyCar",this.updateCarReceived,this),this.nodeGoldIcon.on(l.EventType.TOUCH_START,this.resetPlayData,this)},o.onDisable=function(){v.off("updateGold",this.updateGold,this),v.off("updateSignIn",this.updateSignIn,this),v.off("receiveGold",this.receiveGold,this),v.off("updateCar",this.updateCar,this),v.off("buyCar",this.updateCarReceived,this),this.nodeGoldIcon.off(l.EventType.TOUCH_START,this.resetPlayData,this)},o.updateGold=function(){var n=C.instance.playerInfo.gold||0;this.lbGold.string=g.formatMoney(n)},o.receiveGold=function(){var n=this;this.isGoldPlaying=!0,this.nodeGoldIcon.setScale(new u(1,1,1)),h(this.targetScale).to(.2,new u(1.2,1.2,1.2)).to(.2,new u(1,1,1)).call((function(){n.isGoldPlaying=!1})).start()},o.updateSignIn=function(){C.instance.updateSignInCurrentDay();var n=C.instance.getSignInReceivedInfo();this.nodeSignInRedDot.active=!n.isAllReceived},o.onBtnBgClick=function(){var n=this;C.instance.playerInfo.level>p.NEWBEE_LEVEL?I.instance.showDialog("main/trial",(function(){n.askInvincible()})):this.showStart()},o.askInvincible=function(){var n=this;C.instance.playerInfo.level>p.NEWBEE_LEVEL?I.instance.showDialog("main/invincible",[function(){n.showStart()}]):this.showStart()},o.showStart=function(){v.dispatchEvent("startGame")},o.onBtnDailyClick=function(){I.instance.showDialog("signIn/signIn")},o.onBtnLotteryClick=function(){I.instance.showDialog("lottery/lottery")},o.onBtnRankClick=function(){I.instance.showDialog("rank/rank")},o.onBtnChangeCarClick=function(){I.instance.showDialog("shop/shop")},o.onBtnSettingClick=function(){I.instance.showDialog("main/setting")},o.updateCar=function(){},o.updateCarReceived=function(){this.nodeShopRedDot.active=C.instance.hasCarCanReceived()},o.onBtnLeftClick=function(){var n=C.instance.showCar,t=this.arrCars.indexOf(n);--t<0&&(t=this.arrCars.length-1),C.instance.showCar=this.arrCars[t],v.dispatchEvent("updateCar")},o.onBtnRightClick=function(){var n=C.instance.showCar,t=this.arrCars.indexOf(n);++t>=this.arrCars.length&&(t=0),C.instance.showCar=this.arrCars[t],v.dispatchEvent("updateCar")},o.show=function(){var n=this;this.updateGold(),this.nodeShopRedDot.active=C.instance.hasCarCanReceived(),this.arrCars.length=0,C.instance.playerInfo.cars.forEach((function(t){var e=parseInt(t);e>=0&&n.arrCars.push(e)})),this.isShowAniFinished=!0,y.updateRewardIcon(p.SHARE_FUNCTION.TRIAL,this.spIcon,(function(){C.instance.hasCar(C.instance.showCar)&&(n.spIcon.node.active=!1)})),C.instance.isComeFromBalance&&this.onBtnBgClick()},o.update=function(n){(this.isGoldPlaying||1!==this.targetScale.x)&&this.nodeGoldIcon.setScale(this.targetScale)},o.onBtnDebugClick=function(){},o.resetPlayData=function(){d.localStorage.removeItem("CarConfig"),I.instance.showTips("数据重置成功！")},t}(f)).prototype,"spIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(B.prototype,"lbGold",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(B.prototype,"nodeBtnService",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(B.prototype,"nodeSignInRedDot",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(B.prototype,"nodeGoldIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(B.prototype,"nodeShopRedDot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=B))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/oneToMultiListener.ts",["cc"],(function(r){"use strict";var t,n,e;return{setters:[function(r){t=r.cclegacy,n=r._decorator,e=r.error}],execute:function(){var o,a;t._RF.push({},"10a25g6TDNP2IICdF4Htopx","oneToMultiListener",void 0);var i=n.ccclass;r("oneToMultiListener",i("oneToMultiListener")(((a=function(){function r(){}return r.on=function(r,t,n){var e={handler:t,target:n},o=this.handlers[r];o||(o=[],this.handlers[r]=o);for(var a=0;a<o.length;a++)if(!o[a])return o[a]=e,a;return o.push(e),o.length},r.off=function(r,t,n){var e=this.handlers[r];if(e)for(var o=0;o<e.length;o++){var a=e[o];if(a.handler===t&&(!n||n===a.target)){e.splice(o,1);break}}},r.dispatchEvent=function(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),e=1;e<t;e++)n[e-1]=arguments[e];var o,a=this.handlers[r];for(o=1;o<arguments.length;o++);if(a)for(o=0;o<a.length;o++){var i=a[o];i.handler&&i.handler.apply(i.target,n)}},r.setSupportEventList=function(r){if(!(r instanceof Array))return e("supportEvent was not array"),!1;for(var t in this.supportEvent={},r){var n=r[t];this.supportEvent[n]=t}return!0},r}()).handlers=void 0,a.supportEvent=void 0,o=a))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/online.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constant.ts","./util.ts","./playerData.ts","./clientEvent.ts","./uiManager.ts","./gameLogic.ts"],(function(e){"use strict";var t,i,n,r,o,s,l,a,c,u,f,h,p,g,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,l=e.Sprite,a=e.Label,c=e.Component},function(e){u=e.constant},function(e){f=e.util},function(e){h=e.playerData},function(e){p=e.clientEvent},function(e){g=e.uiManager},function(e){m=e.gameLogic}],execute:function(){var T,d,E,v,I,L,R,b,y;o._RF.push({},"349acC5lWBNyZL7loxYm/uD","online",void 0);var O=s.ccclass,P=s.property;e("online",(T=O("online"),d=P(l),E=P(l),v=P(a),T((R=t((L=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"spTimeProgress",R,r(t)),n(t,"perTimeProgress",b,r(t)),n(t,"lbGold",y,r(t)),t.currentTime=0,t.isOverflow=!1,t.currentGold=0,t}i(t,e);var o=t.prototype;return o.start=function(){},o.onEnable=function(){this.refresh()},o.refresh=function(){this.currentTime=0,this.perTimeProgress.fillRange=0;var e=h.instance.getLastOnlineRewardTime(),t=Math.floor((h.instance.getCurrentTime()-e)/1e3);t=(t=t>0?t:0)<u.ONLINE.MAX_TIME?t:u.ONLINE.MAX_TIME,this.isOverflow=t===u.ONLINE.MAX_TIME,this.currentGold=Math.floor(t*u.ONLINE.PROFIT_PER_SECOND),this.lbGold.string=f.formatMoney(this.currentGold);var i=t/u.ONLINE.MAX_TIME;i=i>1?1:i,this.spTimeProgress.fillRange=i},o.clear=function(){this.currentGold=0,this.lbGold.string="0",this.spTimeProgress.fillRange=0,h.instance.updateLastOnlineRewardTime(this.currentTime),this.isOverflow=!1},o.onBtnOnlineClick=function(){var e=this;this.currentGold<=0||(this.spTimeProgress.fillRange>=.5?g.instance.showDialog("main/onlineDouble",[this.currentGold,function(){e.clear()}]):(h.instance.updatePlayerInfo("gold",this.currentGold),m.showFlyReward(u.REWARD_TYPE.GOLD,(function(){p.dispatchEvent("updateGold")})),this.clear()))},o.update=function(e){if(!this.isOverflow)if(this.currentTime+=e,this.currentTime>u.ONLINE.TIME_PER_CIRCLE)this.refresh();else{var t=this.currentTime/u.ONLINE.TIME_PER_CIRCLE;this.perTimeProgress.fillRange=t}},t}(c)).prototype,"spTimeProgress",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(L.prototype,"perTimeProgress",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(L.prototype,"lbGold",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=L))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/onlineDouble.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constant.ts","./util.ts","./playerData.ts","./clientEvent.ts","./uiManager.ts","./gameLogic.ts"],(function(n){"use strict";var e,t,o,i,r,l,a,c,u,s,p,f,d,b,y;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,l=n._decorator,a=n.Label,c=n.Sprite,u=n.Component},function(n){s=n.constant},function(n){p=n.util},function(n){f=n.playerData},function(n){d=n.clientEvent},function(n){b=n.uiManager},function(n){y=n.gameLogic}],execute:function(){var h,g,v,w,D,m,M,C,N;r._RF.push({},"5b356wyJ3BCYZpADXUOyafo","onlineDouble",void 0);var G=l.ccclass,I=l.property;n("onlineDouble",(h=G("onlineDouble"),g=I(a),v=I(a),w=I(c),h((M=e((m=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=n.call.apply(n,[this].concat(r))||this).rewardMoney=0,e.overCallback=null,o(e,"lbGoldNormal",M,i(e)),o(e,"lbGoldMulti",C,i(e)),o(e,"spIcon",N,i(e)),e}t(e,n);var r=e.prototype;return r.start=function(){},r.show=function(n,e){this.rewardMoney=n,this.overCallback=e,this.lbGoldNormal.string=p.formatMoney(n),this.lbGoldMulti.string=p.formatMoney(3*n),y.updateRewardIcon(s.SHARE_FUNCTION.ONLINE,this.spIcon)},r.onBtnGetNormalClick=function(){this.rewardOver(this.rewardMoney)},r.onBtnGetMultiClick=function(){var n=this;y.openReward(s.SHARE_FUNCTION.ONLINE,(function(e){e||n.rewardOver(3*n.rewardMoney)}))},r.rewardOver=function(n){f.instance.updatePlayerInfo("gold",n),b.instance.hideDialog("main/onlineDouble"),y.showFlyReward(s.REWARD_TYPE.GOLD,(function(){d.dispatchEvent("updateGold")})),this.overCallback&&this.overCallback()},r.onBtnCloseClick=function(){b.instance.hideDialog("main/onlineDouble")},e}(u)).prototype,"lbGoldNormal",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(m.prototype,"lbGoldMulti",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(m.prototype,"spIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=m))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/playerData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./configuration.ts","./constant.ts","./util.ts","./localConfig.ts"],(function(e){"use strict";var n,t,a,i,r,s,o,l,f;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){a=e.cclegacy,i=e._decorator,r=e.Component},function(e){s=e.configuration},function(e){o=e.constant},function(e){l=e.util},function(e){f=e.localConfig}],execute:function(){var I,h;a._RF.push({},"985d59n5DNIrIcY9mIscZXN","playerData",void 0);var y=i.ccclass;i.property,e("playerData",y("playerData")(((h=function(e){function a(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).serverTime=0,n.localTime=0,n.showCar=0,n.isComeFromBalance=!1,n.userId="",n.playerInfo={},n.history=null,n.settings=null,n.isNewBee=!1,n.dataVersion="",n.signInInfo=null,n}n(a,e);var i=a.prototype;return i.loadGlobalCache=function(){var e=s.instance.getUserId();e&&(this.userId=e)},i.loadFromCache=function(){this.playerInfo=this.loadDataByKey(o.LOCAL_CACHE.PLAYER),this.playerInfo.currentCar?this.showCar=this.playerInfo.currentCar:this.showCar=o.INITIAL_CAR,this.history=this.loadDataByKey(o.LOCAL_CACHE.HISTORY),this.settings=this.loadDataByKey(o.LOCAL_CACHE.SETTINGS)},i.loadDataByKey=function(e){var n={},t=s.instance.getConfigData(e);if(t)try{n=JSON.parse(t)}catch(e){n={}}return n},i.createPlayerInfo=function(e){if(this.playerInfo.level=1,this.playerInfo.gold=0,this.playerInfo.realLevel=1,this.playerInfo.passCheckPoint=!1,this.playerInfo.createDate=new Date,this.playerInfo.currentCar=o.INITIAL_CAR,this.playerInfo.cars=[],this.playerInfo.cars.push(o.INITIAL_CAR),this.playerInfo.dictBuyTask={},this.showCar=this.playerInfo.currentCar,this.isNewBee=!0,this.playerInfo.signInInfo={},this.playerInfo.dictGetCarTime={},e)for(var n in e)this.playerInfo[n]=e[n];this.savePlayerInfoToLocalCache()},i.saveAccount=function(e){this.userId=e,s.instance.setUserId(e)},i.savePlayerInfoToLocalCache=function(){s.instance.setConfigData(o.LOCAL_CACHE.PLAYER,JSON.stringify(this.playerInfo))},i.saveAll=function(){s.instance.setConfigDataWithoutSave(o.LOCAL_CACHE.PLAYER,JSON.stringify(this.playerInfo)),s.instance.setConfigDataWithoutSave(o.LOCAL_CACHE.HISTORY,JSON.stringify(this.history)),s.instance.setConfigDataWithoutSave(o.LOCAL_CACHE.SETTINGS,JSON.stringify(this.settings)),s.instance.setConfigData(o.LOCAL_CACHE.DATA_VERSION,this.dataVersion)},i.updatePlayerInfo=function(e,n){var t=!1;this.playerInfo.hasOwnProperty(e)?"number"==typeof n?(t=!0,this.playerInfo[e]+=n,this.playerInfo[e]<0&&(this.playerInfo[e]=0)):"boolean"!=typeof n&&"string"!=typeof n||(t=!0,this.playerInfo[e]=n):"gold"===e&&(t=!0,this.playerInfo[e]=n),t&&s.instance.setConfigData(o.LOCAL_CACHE.PLAYER,JSON.stringify(this.playerInfo))},i.updateSignInCurrentDay=function(){if(0===Object.keys(this.playerInfo.signInInfo).length||this.isNeedRecycleSignInInfo())this.createNewSignInInfo();else{var e=l.getDeltaDays(this.playerInfo.signInInfo.signInDate,Date.now());if(0===e)return;this.updateSignInFillSignInDays(0,!0),this.playerInfo.signInInfo.currentDay+=e,this.playerInfo.signInInfo.currentDay<=0&&this.createNewSignInInfo(),this.playerInfo.signInInfo.currentDay>o.MAX_SIGNIN_DAY?o.MAX_SIGNIN_DAY:this.playerInfo.signInInfo.currentDay,this.playerInfo.signInInfo.signInDate=Date.now()}this.savePlayerInfoToLocalCache()},i.createNewSignInInfo=function(){this.playerInfo.hasOwnProperty("signInInfo")||(this.playerInfo.signInInfo={},this.playerInfo.dictGetCarTime={});var e=this.playerInfo.signInInfo;e.createDate=Date.now(),e.signInDate=Date.now(),e.currentDay=1,e.receivedDays=[],e.afterFillSignInDays=[],this.savePlayerInfoToLocalCache()},i.isNeedRecycleSignInInfo=function(){this.playerInfo.signInInfo||this.createNewSignInInfo();var e=!1;return l.getDeltaDays(this.playerInfo.signInInfo.createDate,Date.now())>=o.MAX_SIGNIN_DAY&&(e=!0),e},i.updateSignInReceivedDays=function(e){var n=this.playerInfo.signInInfo.receivedDays;Array.isArray(n)&&n.includes(e)||(n.push(Number(e)),this.savePlayerInfoToLocalCache())},i.updateSignInFillSignInDays=function(e,n){var t=this.playerInfo.signInInfo.afterFillSignInDays;if(n)t.length=0;else{if(Array.isArray(t)&&t.includes(e))return;t.push(Number(e))}this.savePlayerInfoToLocalCache()},i.getSignInReceivedInfo=function(){this.playerInfo.signInInfo||this.createNewSignInInfo();var e=this.playerInfo.signInInfo;return{isAllReceived:!(e.receivedDays.length<e.currentDay),isTodayReceived:!!e.receivedDays.includes(e.currentDay)}},i.isHadCarAndDuringPeriod=function(e){var n=this.playerInfo.signInInfo.createDate;this.playerInfo.dictGetCarTime||(this.playerInfo.dictGetCarTime={});var t=this.playerInfo.dictGetCarTime[e];return-1!==this.playerInfo.cars.indexOf(e)&&t&&t<n},i.updateDictGetCarTime=function(e){this.playerInfo.dictGetCarTime||(this.playerInfo.dictGetCarTime={}),this.playerInfo.dictGetCarTime[e]=this.playerInfo.signInInfo.createDate,s.instance.setConfigData(o.LOCAL_CACHE.PLAYER,JSON.stringify(this.playerInfo))},i.getLastOnlineRewardTime=function(){return this.playerInfo.onlineRewardTime||(this.playerInfo.onlineRewardTime=this.getCurrentTime(),this.savePlayerInfoToLocalCache()),this.playerInfo.onlineRewardTime},i.updateLastOnlineRewardTime=function(e){var n=this.getCurrentTime()-1e3*e;this.playerInfo.onlineRewardTime=n,this.savePlayerInfoToLocalCache()},i.syncServerTime=function(e){this.serverTime=e,this.localTime=Date.now()},i.getCurrentTime=function(){var e=Date.now()-this.localTime;return this.serverTime+e},i.hasCar=function(e){return e===o.INITIAL_CAR||(this.playerInfo.cars||(this.playerInfo.cars=[o.INITIAL_CAR]),-1!==this.playerInfo.cars.indexOf(e))},i.hasCarCanReceived=function(){for(var e=f.instance.getCars(),n=0;n<e.length;n++){var t=e[n];if(t.type!==o.BUY_CAR_TYPE.GOLD&&t.type!==o.BUY_CAR_TYPE.SIGNIN&&(!this.hasCar(t.ID)&&this.playerInfo.dictBuyTask&&this.playerInfo.dictBuyTask.hasOwnProperty(t.type)&&this.playerInfo.dictBuyTask[t.type]>=t.num))return!0}return!1},i.finishBuyTask=function(e,n,t){this.playerInfo.dictBuyTask||(this.playerInfo.dictBuyTask={}),this.playerInfo.dictBuyTask.hasOwnProperty(e)&&t?this.playerInfo.dictBuyTask[e]+=n:this.playerInfo.dictBuyTask[e]=n,this.savePlayerInfoToLocalCache()},i.getBuyTypeProgress=function(e){return this.playerInfo.dictBuyTask&&this.playerInfo.dictBuyTask.hasOwnProperty(e)?this.playerInfo.dictBuyTask[e]:0},i.getCurrentCar=function(){return this.playerInfo.currentCar||(this.playerInfo.currentCar=o.INITIAL_CAR),this.playerInfo.currentCar},i.useCar=function(e){return!!this.hasCar(e)&&(this.playerInfo.currentCar=e,this.savePlayerInfoToLocalCache(),this.showCar=this.playerInfo.currentCar,!0)},i.buyCar=function(e){return-1!==this.playerInfo.cars.indexOf(e)||(this.playerInfo.cars.push(e),this.savePlayerInfoToLocalCache()),!0},i.clear=function(){this.playerInfo={},this.settings={},this.saveAll()},i.passLevel=function(e){this.playerInfo.level++,this.playerInfo.gold+=e,console.log("###1 this.playerInfo.level",this.playerInfo.level,"this.playerInfo.realLevel",this.playerInfo.realLevel),this.playerInfo.passCheckPoint?(this.playerInfo.realLevel=this.getRandLevel(),console.log("###3 this.playerInfo.level",this.playerInfo.level,"this.playerInfo.realLevel",this.playerInfo.realLevel)):this.playerInfo.level>=o.MAX_LEVEL?(this.playerInfo.realLevel=o.MAX_LEVEL,this.playerInfo.level=o.MAX_LEVEL,this.playerInfo.passCheckPoint=!0,console.log("###2 this.playerInfo.level",this.playerInfo.level,"this.playerInfo.realLevel",this.playerInfo.realLevel)):this.playerInfo.realLevel=this.playerInfo.level,this.savePlayerInfoToLocalCache()},i.getRandLevel=function(){for(var e=-1;-1===e;){var n=16+Math.floor(5*Math.random());n!==this.playerInfo.realLevel&&(e=n)}return e},t(a,null,[{key:"instance",get:function(){return this._instance||(this._instance=new a),this._instance}}]),a}(r))._instance=void 0,I=h))||I);a._RF.pop()}}}));

System.register("chunks:///_virtual/polyglot.min.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n("polyglot",(function(n){return new g(n)})),t._RF.push({},"26839JcVWpGabE9xA7/uWJw","polyglot.min",void 0);var r=function(n,t,r){if(n=arguments[0],t="function"==typeof arguments[1]?arguments[1]:new Function,Array.isArray(n))n.forEach((function(n,r,e){t(n,r)}));else for(var e in n)if(n.hasOwnProperty(e)){var i=n[e];t(i,e)}},e=function(n,t){return n.hasOwnProperty(t)};var i=function(n){!function(n){console.warn(n)}(n)},s=String.prototype.replace,o=String.prototype.split,u="||||",a=function(n){var t=n%100,r=t%10;return 11!==t&&1===r?0:2<=r&&r<=4&&!(t>=12&&t<=14)?1:2},l={pluralTypes:{arabic:function(n){if(n<3)return n;var t=n%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:a,chinese:function(){return 0},croatian:a,french:function(n){return n>1?1:0},german:function(n){return 1!==n?1:0},russian:a,lithuanian:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=9&&(n%100<11||n%100>19)?1:2},czech:function(n){return 1===n?0:n>=2&&n<=4?1:2},polish:function(n){if(1===n)return 0;var t=n%10;return 2<=t&&t<=4&&(n%100<10||n%100>=20)?1:2},icelandic:function(n){return n%10!=1||n%100==11?1:0},slovenian:function(n){var t=n%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function c(n,t){var e=function(n){var t={};return r(n,(function(n,e){r(n,(function(n){t[n]=e}),this)}),this),t}(n.pluralTypeToLanguages);return e[t]||e[o.call(t,/-/,1)[0]]||e.en}function f(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var h=/%\{(.*?)\}/g;function p(n,t,r,i,a){if("string"!=typeof n)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return n;var f=n,p=i||h,g=a||l,y="number"==typeof t?{smart_count:t}:t;if(null!=y.smart_count&&f){var v=o.call(f,u);f=(v[function(n,t,r){return n.pluralTypes[c(n,t)](r)}(g,r||"en",y.smart_count)]||v[0]).replace(/^\s+|\s+$/gm,"")}return f=s.call(f,p,(function(n,t){return e(y,t)&&null!=y[t]?y[t]:n}))}var g=n("Polyglot",function(){function n(n){this.phrases={},this.pluralRules={},this.currentLocale="",this.onMissingKey=null,this.warn=null,this.tokenRegex=void 0;var t=n||{};this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var r=t.allowMissing?p:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:r,this.warn=t.warn||i,this.tokenRegex=function(n){var t=n&&n.prefix||"%{",r=n&&n.suffix||"}";if(t===u||r===u)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(f(t)+"(.*?)"+f(r),"g")}(t.interpolation),this.pluralRules=t.pluralRules||l}n.transformPhrase=function(n,t,r){return p(n,t,r)};var t=n.prototype;return t.has=function(n){return e(this.phrases,n)},t.t=function(n,t){var r,e,i=null==t?{}:t;if("string"==typeof this.phrases[n])r=this.phrases[n];else if("string"==typeof i._)r=i._;else if(this.onMissingKey){e=(0,this.onMissingKey)(n,i,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+n+'"'),e=n;return"string"==typeof r&&(e=p(r,i,this.currentLocale,this.tokenRegex,this.pluralRules)),e},t.replace=function(n){this.clear(),this.extend(n)},t.clear=function(){this.phrases={}},t.locale=function(n){return n&&(this.currentLocale=n),this.currentLocale},t.extend=function(n,t){var e=this;r(n,(function(n,r){var i=t?t+"."+r:r;"object"==typeof n?e.extend(n,i):e.phrases[i]=n}),this)},t.unset=function(n,t){"string"==typeof n?delete this.phrases[n]:r(n,(function(n,r){var e=t?t+"."+r:r;"object"==typeof n?this.unset(n,e):delete this.phrases[e]}),this)},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/poolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,e,n,i,r;return{setters:[function(t){o=t.createClass},function(t){e=t.cclegacy,n=t._decorator,i=t.instantiate,r=t.NodePool}],execute:function(){var a,c;e._RF.push({},"907776q4iZNubarZf3Ut3A8","poolManager",void 0);var s=n.ccclass;n.property,t("poolManager",s("poolManager")(((c=function(){function t(){this.dictPool={},this.dictPrefab={}}var e=t.prototype;return e.getNode=function(t,o){var e,n=t.data.name;if(this.dictPrefab[n]=t,this.dictPool.hasOwnProperty(n)){var a=this.dictPool[n];e=a.size()>0?a.get():i(t)}else{var c=new r;this.dictPool[n]=c,e=i(t)}return e.parent=o,e},e.putNode=function(t){var o=t.name,e=null;this.dictPool.hasOwnProperty(o)?e=this.dictPool[o]:(e=new r,this.dictPool[o]=e),e.put(t)},e.clearPool=function(t){this.dictPool.hasOwnProperty(t)&&this.dictPool[t].clear()},o(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=void 0,a=c))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/resourceUtil.ts",["cc"],(function(e){"use strict";var t,a,r,n,i,o,s,c,u,l,f;return{setters:[function(e){t=e.cclegacy,a=e._decorator,r=e.resources,n=e.error,i=e.Prefab,o=e.instantiate,s=e.find,c=e.SpriteFrame,u=e.isValid,l=e.assetManager,f=e.Texture2D}],execute:function(){var d;t._RF.push({},"aebeeEGJRZGbK315QTzsoll","resourceUtil",void 0);var g=a.ccclass;e("resourceUtil",g("resourceUtil")(d=function(){function e(){}return e.loadRes=function(e,t,a){t?r.load(e,t,(function(e,t){if(e)return n(e.message||e),void(a&&a(e,t));a&&a(e,t)})):r.load(e,(function(e,t){if(e)return n(e.message||e),void(a&&a(e,t));a&&a(e,t)}))},e.getMap=function(e,t){var a="map";a+=e>=100?e:e>=10?"0"+e:"00"+e,this.loadRes("gamePackage/map/config/"+a,null,(function(e,a){if(e)t(e,a);else{var r=a,n="";if(r._file){window.LZString&&(n=window.LZString.decompressFromEncodedURIComponent(r._file));var i=JSON.parse(n);t(null,i)}else if(r.text){window.LZString&&(n=window.LZString.decompressFromEncodedURIComponent(r.text));var o=JSON.parse(n);t(null,o)}else if(r.json)t(null,r.json);else{var s=new Error("failed");t(s,null)}}}))},e.getMapObjs=function(e,t,a,n){for(var o=[],s=0;s<t.length;s++)o.push("gamePackage/map/"+e+"/"+t[s]);r.load(o,i,a,n)},e.getUIPrefabRes=function(e,t){this.loadRes("prefab/ui/"+e,i,t)},e.createUI=function(e,t,a){this.getUIPrefabRes(e,(function(e,r){if(!e){var n=o(r);n.setPosition(0,0,0),a||(a=s("Canvas")),a.addChild(n),t&&t(null,n)}}))},e.getCarsBatch=function(e,t,a){for(var n=[],o=0;o<e.length;o++)n.push("prefab/car/car"+e[o]);for(var s=0;s<n.length;s++){var c=n[s];t?r.load(c,i,t,a):r.load(c,i,a)}},e.getUICar=function(e,t){this.loadRes("prefab/ui/car/uiCar"+e,i,t)},e.getCar=function(e,t){this.loadRes("prefab/car/car"+e,i,t)},e.setCarIcon=function(e,t,a,r){var n="gamePackage/texture/car/car"+e;a&&(n+="Black"),this.setSpriteFrame(n,t,r)},e.getJsonData=function(e,t){r.load("datas/"+e,(function(e,a){if(e)n(e.message||e);else{var r=a;if(r.json)t(e,r.json);else{var i=new Error("failed!!!");t(i,null)}}}))},e.getData=function(e,t){r.load("datas/"+e,(function(e,a){if(e)n(e.message||e);else{var i=a.text;i?t(e,i):r.load(a.nativeUrl,(function(e,a){t(e,i=a)}))}}))},e.setSpriteFrame=function(e,t,a){this.loadRes(e+"/spriteFrame",c,(function(r,n){if(r)return console.error("set sprite frame failed! err:",e,r),void a(r,n);t&&u(t)&&(t.spriteFrame=n,a(null,n))}))},e.setRemoteImage=function(e,t,a){if(e&&e.startsWith("http")){l.loadAny([{url:e,type:"png"}],null,(function(t,r){if(t)return console.error("set avatar failed! err:",e,t),void a(t,r);var n=new f;n.image=r;var i=new c;i.texture=n,a&&a(null,i)}))}},e.setGameIcon=function(e,t,a){e.startsWith("http")?this.setRemoteImage(e,t,a):this.setSpriteFrame("gamePackage/textures/icons/games/"+e,t,a)},e.getCustomer=function(e,t){this.loadRes("gamePackage/map/customer/customer"+e,i,t)},e.setCustomerIcon=function(e,t,a){var r="gamePackage/texture/head/head"+e;this.setSpriteFrame(r,t,a)},e.getEffect=function(e,t){this.loadRes("prefab/effect/"+e,i,t)},e}())||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/revive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constant.ts","./clientEvent.ts","./uiManager.ts","./gameLogic.ts"],(function(n){"use strict";var i,t,e,o,r,c,s,u,a,l,p,g,v;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,c=n._decorator,s=n.Sprite,u=n.Widget,a=n.Component},function(n){l=n.constant},function(n){p=n.clientEvent},function(n){g=n.uiManager},function(n){v=n.gameLogic}],execute:function(){var f,h,w,C,D,b,d,m,y;r._RF.push({},"95f63L653dBgLBdIgYWzpHv","revive",void 0);var I=c.ccclass,R=c.property;n("revive",(f=I("revive"),h=R(s),w=R(s),C=R(u),f((d=i((b=function(n){function i(){for(var i,t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return i=n.call.apply(n,[this].concat(r))||this,e(i,"spCountDown",d,o(i)),e(i,"spIcon",m,o(i)),e(i,"wgMenu",y,o(i)),i.closeCb=null,i.countDownTime=0,i.currentTime=0,i.isCountDowning=!1,i}t(i,n);var r=i.prototype;return r.start=function(){},r.show=function(n){this.closeCb=n,this.countDownTime=5,this.currentTime=0,this.spCountDown.fillRange=1,this.isCountDowning=!0,v.updateRewardIcon(l.SHARE_FUNCTION.RELIVE,this.spIcon)},r.onBtnReviveClick=function(){var n=this;this.isCountDowning=!1,v.openReward(l.SHARE_FUNCTION.RELIVE,(function(i){i?n.isCountDowning=!0:(p.dispatchEvent("revive"),g.instance.hideDialog("fight/revive"))}))},r.onBtnSkipClick=function(){this.isCountDowning=!1,g.instance.hideDialog("fight/revive"),this.closeCb&&this.closeCb()},i}(a)).prototype,"spCountDown",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(b.prototype,"spIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(b.prototype,"wgMenu",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=b))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/roadPoint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./fightConstants.ts"],(function(e){"use strict";var t,i,r,n,a,o,s,l,u,c,p,T,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Enum,l=e.Node,u=e.macro,c=e.Component,p=e.Vec3},function(e){T=e.resourceUtil},function(e){d=e.fightConstants}],execute:function(){var y,_,O,h,f,P,A,b,E,R,N,I,m,D,g,v,Y,C,G,w,S;e({ROAD_MOVE_TYPE:void 0,ROAD_POINT_TYPE:void 0}),a._RF.push({},"953fazcJb1LuJlDQlkFCkFG","roadPoint",void 0);var z,M,F=o.ccclass,L=o.property;!function(e){e[e["普通节点"]=d.ROAD_POINT_TYPE.NORMAL]="普通节点",e[e["开始节点"]=d.ROAD_POINT_TYPE.START]="开始节点",e[e["接客节点"]=d.ROAD_POINT_TYPE.GREETING]="接客节点",e[e["送客节点"]=d.ROAD_POINT_TYPE.PLATFORM]="送客节点",e[e["结束节点"]=d.ROAD_POINT_TYPE.END]="结束节点",e[e["AI开始节点"]=d.ROAD_POINT_TYPE.AI_START]="AI开始节点"}(z||(z=e("ROAD_POINT_TYPE",{}))),s(z),function(e){e[e["直线行走"]=d.ROAD_MOVE_TYPE.LINE]="直线行走",e[e["曲线行走"]=d.ROAD_MOVE_TYPE.BEND]="曲线行走"}(M||(M=e("ROAD_MOVE_TYPE",{}))),s(M);e("roadPoint",(y=F("roadPoint"),_=L({displayName:"类型",type:z,displayOrder:1}),O=L({displayName:"下一站",type:l,displayOrder:2}),h=L({displayName:"行走方式",type:M,displayOrder:3}),f=L({displayName:"顺时针",displayOrder:4,visible:function(){return this.moveType===d.ROAD_MOVE_TYPE.BEND}}),P=L({displayName:"顾客方向",displayOrder:4,visible:function(){return this.type===d.ROAD_POINT_TYPE.GREETING||this.type===d.ROAD_POINT_TYPE.PLATFORM}}),A=L({displayName:"延迟生成/秒",displayOrder:5,visible:function(){return this.type===d.ROAD_POINT_TYPE.AI_START}}),b=L({displayName:"生成频率/秒",displayOrder:5,visible:function(){return this.type===d.ROAD_POINT_TYPE.AI_START}}),E=L({displayName:"车辆行驶速度",displayOrder:5,visible:function(){return this.type===d.ROAD_POINT_TYPE.AI_START}}),R=L({displayName:"产生车辆(,分隔)",displayOrder:5,visible:function(){return this.type===d.ROAD_POINT_TYPE.AI_START}}),y((m=t((I=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"type",m,n(t)),r(t,"next",D,n(t)),r(t,"moveType",g,n(t)),r(t,"clockwise",v,n(t)),r(t,"direction",Y,n(t)),r(t,"delayTime",C,n(t)),r(t,"genInterval",G,n(t)),r(t,"carSpeed",w,n(t)),r(t,"cars",S,n(t)),t.arrCars=[],t._generateCb=null,t}i(t,e);var a=t.prototype;return a.start=function(){this.arrCars=this.cars.split(",")},a.startGenerateCar=function(e){this.type===d.ROAD_POINT_TYPE.AI_START&&(this._generateCb=e,this.stopGenerateCar(),this.scheduleOnce(this.delayStartGen,this.delayTime),T.getCarsBatch(this.arrCars,(function(){}),(function(){})))},a.delayStartGen=function(){this.scheduleGen(),this.schedule(this.scheduleGen,this.genInterval,u.REPEAT_FOREVER)},a.scheduleGen=function(){var e=Math.floor(Math.random()*this.arrCars.length);this._generateCb&&this._generateCb(this,this.arrCars[e])},a.stopGenerateCar=function(){this.unschedule(this.delayStartGen),this.unschedule(this.scheduleGen)},t}(c)).prototype,"type",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.普通节点}}),D=t(I.prototype,"next",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(I.prototype,"moveType",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.直线行走}}),v=t(I.prototype,"clockwise",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=t(I.prototype,"direction",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),C=t(I.prototype,"delayTime",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),G=t(I.prototype,"genInterval",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),w=t(I.prototype,"carSpeed",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),S=t(I.prototype,"cars",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"201"}}),N=I))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/setting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./configuration.ts","./audioManager.ts","./localConfig.ts","./uiManager.ts","./gameLogic.ts","./LanguageData.ts"],(function(i){"use strict";var n,t,e,s,o,r,c,a,u,l,p,h,g,f,S,b;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,c=i.Sprite,a=i.SpriteFrame,u=i.Label,l=i.Component},function(i){p=i.configuration},function(i){h=i.audioManager},function(i){g=i.localConfig},function(i){f=i.uiManager},function(i){S=i.gameLogic},function(i){b=i.i18n}],execute:function(){var d,m,w,O,y,C,V,v,M,F,k,z,L;o._RF.push({},"501ddLP5JZNPaa02x+rFKAH","setting",void 0);var D=r.ccclass,B=r.property;i("setting",(d=D("setting"),m=B(c),w=B(c),O=B(a),y=B(a),C=B(u),d((M=n((v=function(i){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n=i.call.apply(i,[this].concat(o))||this,e(n,"spVibrateSwitch",M,s(n)),e(n,"spSoundSwitch",F,s(n)),e(n,"imgSwitchOpen",k,s(n)),e(n,"imgSwitchClose",z,s(n)),e(n,"lbVersion",L,s(n)),n.isSoundOpen=void 0,n.isVibrateOpen=void 0,n.clickTimes=0,n}t(n,i),n.checkState=function(){h.instance.getConfiguration(!0)?(h.instance.openMusic(),h.instance.openSound()):(h.instance.closeMusic(),h.instance.closeSound())};var o=n.prototype;return o.start=function(){},o.show=function(){this.clickTimes+=1,this.lbVersion.string=b.t("setting.version")+" "+g.instance.getVersion(),this.isSoundOpen=h.instance.getConfiguration(!0),this.isVibrateOpen=S.isVibrateOpen(),this.refreshSwitchUI()},o.refreshSwitchUI=function(){this.isVibrateOpen?this.spVibrateSwitch.spriteFrame=this.imgSwitchOpen:this.spVibrateSwitch.spriteFrame=this.imgSwitchClose,this.isSoundOpen?this.spSoundSwitch.spriteFrame=this.imgSwitchOpen:this.spSoundSwitch.spriteFrame=this.imgSwitchClose},o.onBtnVibrateClick=function(){},o.onBtnSoundClick=function(){this.isSoundOpen=!this.isSoundOpen,this.isSoundOpen?(h.instance.openMusic(),h.instance.openSound()):(h.instance.closeMusic(),h.instance.closeSound()),p.instance.setGlobalData("music",""+this.isSoundOpen),this.refreshSwitchUI()},o.onBtnCloseClick=function(){f.instance.hideDialog("main/setting")},n}(l)).prototype,"spVibrateSwitch",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(v.prototype,"spSoundSwitch",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(v.prototype,"imgSwitchOpen",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(v.prototype,"imgSwitchClose",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(v.prototype,"lbVersion",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=v))||V));o._RF.pop()}}}));

System.register("chunks:///_virtual/shop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./constant.ts","./util.ts","./localConfig.ts","./playerData.ts","./clientEvent.ts","./poolManager.ts","./uiManager.ts","./gameLogic.ts","./LanguageData.ts","./shopPage.ts"],(function(e){"use strict";var t,n,r,i,a,o,s,c,u,l,h,p,f,g,C,d,b,I,P,m,y,B,D,G,_,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,c=e.Node,u=e.Prefab,l=e.Sprite,h=e.instantiate,p=e.Vec3,f=e.Button,g=e.Color,C=e.Component},function(e){d=e.resourceUtil},function(e){b=e.constant},function(e){I=e.util},function(e){P=e.localConfig},function(e){m=e.playerData},function(e){y=e.clientEvent},function(e){B=e.poolManager},function(e){D=e.uiManager},function(e){G=e.gameLogic},function(e){_=e.i18n},function(e){w=e.shopPage}],execute:function(){var E,R,v,S,T,A,Y,U,k,L,x,N,O,z,H,M,F,V,W,q,j,K,X,J,Q,Z,$,ee,te;a._RF.push({},"15effXNtKpGeLctODlTRqhl","shop",void 0);var ne=o.ccclass,re=o.property;e("shop",(E=ne("shop"),R=re(s),v=re(c),S=re(c),T=re(c),A=re(c),Y=re(s),U=re(s),k=re(s),L=re(c),x=re(c),N=re(u),O=re(l),z=re(s),E((F=t((M=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"lbGold",F,i(t)),r(t,"nodeGet",V,i(t)),r(t,"nodeGold",W,i(t)),r(t,"nodeBuy",q,i(t)),r(t,"nodeGo",j,i(t)),r(t,"lbDesc",K,i(t)),r(t,"lbPrice",X,i(t)),r(t,"lbGo",J,i(t)),r(t,"nodeCarParent",Q,i(t)),r(t,"nodePages",Z,i(t)),r(t,"pfPage",$,i(t)),r(t,"spCarBlack",ee,i(t)),r(t,"lbPage",te,i(t)),t.currentPage=null,t.currentCar=null,t.carDegree=0,t.rotateSpeed=30,t.currentCarInfo=void 0,t.pageIndex=0,t.maxPage=0,t.currentCarID=0,t}n(t,e);var a=t.prototype;return a.start=function(){},a.onEnable=function(){y.on("updateGold",this.updateGold,this),y.on("onShopItemSelect",this.onShopItemSelect,this),y.on("updateBuyTask",this.updateButtons,this)},a.onDisable=function(){y.off("updateGold",this.updateGold,this),y.off("onShopItemSelect",this.onShopItemSelect,this),y.off("updateBuyTask",this.updateButtons,this)},a.show=function(){var e=P.instance.getCars();this.maxPage=Math.floor(e.length/9),this.updateGold(),this.showPage()},a.showPage=function(){this.currentPage||(this.currentPage=h(this.pfPage),this.currentPage.parent=this.nodePages,this.pageIndex=0,this.refreshPageLabel(),this.currentPage.getComponent(w).setPage(this.pageIndex)),this.currentPage.getComponent(w).show()},a.updateGold=function(){var e=m.instance.playerInfo.gold||0;this.lbGold.string=I.formatMoney(e)},a.onBtnCloseClick=function(){D.instance.hideDialog("shop/shop")},a.getCar=function(){var e=this;G.buyCar(this.currentCarInfo.ID);var t={rewardType:b.REWARD_TYPE.CAR,amount:1,ID:this.currentCarInfo.ID};D.instance.showDialog("common/showReward",[t,!1,"购买成功",function(){G.useCar(e.currentCarInfo.ID),e.currentPage.getComponent(w).refreshUse(e.currentCarInfo.ID)},null,"确认"])},a.onBtnGetClick=function(){var e=this.currentCarInfo.ID;if(m.instance.hasCar(e))m.instance.useCar(e),y.dispatchEvent("updateCar");else if(this.currentCarInfo.type===b.BUY_CAR_TYPE.GOLD){if(this.currentCarInfo.num>m.instance.playerInfo.gold)return void D.instance.showTips("获取金币",(function(){}));G.addGold(-this.currentCarInfo.num),this.getCar()}else{if(m.instance.getBuyTypeProgress(this.currentCarInfo.type)>=this.currentCarInfo.num)this.getCar();else switch(this.currentCarInfo.type){case b.BUY_CAR_TYPE.GAME:case b.BUY_CAR_TYPE.LOGIN:case b.BUY_CAR_TYPE.CONTINUOUS_LOGIN:case b.BUY_CAR_TYPE.PASS_LEVEL:this.onBtnCloseClick();break;case b.BUY_CAR_TYPE.SIGNIN:this.onBtnCloseClick(),D.instance.showDialog("signIn/signIn");break;case b.BUY_CAR_TYPE.SHARE:G.openReward(b.SHARE_FUNCTION.SHOP_SHARE,(function(e,t){}));break;case b.BUY_CAR_TYPE.VIDEO:G.openReward(b.SHARE_FUNCTION.SHOP_VIDEO,(function(e,t){}))}}},a.checkBtn=function(){},a.onBtnGoldClick=function(){var e=this;G.openReward(b.SHARE_FUNCTION.SHOP_VIDEO,(function(t){t||G.showFlyReward(b.REWARD_TYPE.GOLD,(function(){G.addGold(300),e.updateButtons()}))}))},a.onShopItemSelect=function(e,t){var n=this,r=this.currentPage.getComponent(w);r.unSelectAll(),t&&r.unUseAll(),this.currentCar&&(B.instance.putNode(this.currentCar),this.currentCar=null),this.currentCarInfo=P.instance.queryByID("car",e.toString()),this.currentCarInfo.type===b.BUY_CAR_TYPE.SHARE&&(this.currentCarInfo.type=b.BUY_CAR_TYPE.GOLD,this.currentCarInfo.num=2e3),m.instance.hasCar(e)?(this.spCarBlack.node.active=!1,d.getUICar(this.currentCarInfo.model,(function(e,t){e?console.error(e,n.currentCarInfo.model):(n.carDegree=0,n.currentCar=B.instance.getNode(t,n.nodeCarParent))}))):(this.spCarBlack.node.active=!0,d.setCarIcon(this.currentCarInfo.model,this.spCarBlack,!0,(function(){}))),this.updateButtons()},a.update=function(e){this.currentCar&&(this.carDegree-=e*this.rotateSpeed,this.carDegree<=-360&&(this.carDegree+=360),this.currentCar.eulerAngles=new p(0,this.carDegree,0))},a.updateButtons=function(){if(m.instance.hasCar(this.currentCarInfo.ID))this.lbDesc.string="",this.nodeGo.active=!0,this.nodeBuy.active=!1,this.lbGo.string="换车",this.nodeGet.getComponent(f).interactable=!0;else if(this.currentCarInfo.type===b.BUY_CAR_TYPE.GOLD)this.lbDesc.string="",this.lbPrice.string=this.currentCarInfo.num,m.instance.playerInfo.gold>=this.currentCarInfo.num?(this.lbPrice.color=g.WHITE,this.nodeGet.getComponent(f).interactable=!0):(this.lbPrice.color=g.RED,this.nodeGet.getComponent(f).interactable=!0),this.nodeGo.active=!1,this.nodeBuy.active=!0;else{this.nodeGet.getComponent(f).interactable=!0,this.nodeGo.active=!0,this.nodeBuy.active=!1;var e=m.instance.getBuyTypeProgress(this.currentCarInfo.type);e<this.currentCarInfo.num?this.lbGo.string="前往商店":this.lbGo.string="获取";var t=_.t("carTask."+this.currentCarInfo.show);this.currentCarInfo.type!==b.BUY_CAR_TYPE.SIGNIN&&(t+="("+_.t("shop.current")+"："+e+"/"+this.currentCarInfo.num+")"),this.lbDesc.string=t}},a.refreshPageLabel=function(){this.lbPage.string=this.pageIndex+1+"/"+(this.maxPage+1)},a.onBtnLeftClick=function(){var e=this.currentPage.getComponent(w);this.pageIndex>0?this.pageIndex--:this.pageIndex=this.maxPage,this.refreshPageLabel(),e.setPage(this.pageIndex),e.show()},a.onBtnRightClick=function(){var e=this.currentPage.getComponent(w);this.pageIndex>=this.maxPage?this.pageIndex=0:this.pageIndex++,this.refreshPageLabel(),e.setPage(this.pageIndex),e.show()},t}(C)).prototype,"lbGold",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(M.prototype,"nodeGet",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(M.prototype,"nodeGold",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(M.prototype,"nodeBuy",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(M.prototype,"nodeGo",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(M.prototype,"lbDesc",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(M.prototype,"lbPrice",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(M.prototype,"lbGo",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(M.prototype,"nodeCarParent",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(M.prototype,"nodePages",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(M.prototype,"pfPage",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(M.prototype,"spCarBlack",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(M.prototype,"lbPage",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=M))||H));a._RF.pop()}}}));

System.register("chunks:///_virtual/shopItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./playerData.ts","./clientEvent.ts","./poolManager.ts"],(function(t){"use strict";var e,n,i,r,o,s,a,c,u,l,h,f,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,a=t._decorator,c=t.Node,u=t.Sprite,l=t.Component},function(t){h=t.resourceUtil},function(t){f=t.playerData},function(t){p=t.clientEvent},function(t){d=t.poolManager}],execute:function(){var I,y,C,v,b,D,m,g,k,S,T;s._RF.push({},"2b1f3615PZNnqYSDTVo5tI8","shopItem",void 0);var B=a.ccclass,U=a.property;t("shopItem",(I=B("shopItem"),y=U(c),C=U(c),v=U(c),b=U(u),I((g=e((m=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"nodeSelect",g,r(e)),i(e,"nodeUsed",k,r(e)),i(e,"nodeRedDot",S,r(e)),i(e,"spCarIcon",T,r(e)),e.currentCar=null,e.carInfo={ID:0,type:0,num:0,model:""},e}n(e,t);var s=e.prototype;return s.start=function(){},s.onEnable=function(){p.on("buyCar",this.refreshCarIcon,this),p.on("updateBuyTask",this.updateBuyTask,this)},s.onDisable=function(){p.off("buyCar",this.refreshCarIcon,this),p.off("updateBuyTask",this.updateBuyTask,this)},s.refreshCarIcon=function(){this.carInfo&&(h.setCarIcon(this.carInfo.model,this.spCarIcon,!f.instance.hasCar(this.carInfo.ID),(function(){})),this.updateBuyTask())},s.updateBuyTask=function(){if(f.instance.hasCar(this.carInfo.ID))this.nodeRedDot.active=!1;else{var t=f.instance.getBuyTypeProgress(this.carInfo.type);this.nodeRedDot.active=t>=this.carInfo.num}},s.show=function(t){var e=this;this.carInfo=t,this.select=!1,this.nodeUsed.active=!1,this.currentCar&&(d.instance.putNode(this.currentCar),this.currentCar=null),t?(this.spCarIcon.node.active=!0,this.refreshCarIcon(),this.carInfo.ID===f.instance.getCurrentCar()&&this.scheduleOnce((function(){e.onItemClick(!1)}),0)):this.spCarIcon.node.active=!1},s.onItemClick=function(t){if(this.carInfo){var e=f.instance.hasCar(this.carInfo.ID);p.dispatchEvent("onShopItemSelect",this.carInfo.ID,e),this.select=!0,e&&(this.used=!0)}},s.updateUseState=function(){this.used=this.carInfo.ID===f.instance.getCurrentCar()},o(e,[{key:"select",get:function(){return this.nodeSelect.active},set:function(t){this.nodeSelect.active=t}},{key:"used",get:function(){return this.nodeUsed.active},set:function(t){this.nodeUsed.active=t}}]),e}(l)).prototype,"nodeSelect",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(m.prototype,"nodeUsed",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(m.prototype,"nodeRedDot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(m.prototype,"spCarIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=m))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/shopPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./localConfig.ts","./shopItem.ts"],(function(e){"use strict";var t,n,o,i,r,c,s,a,l,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,s=e.Prefab,a=e.instantiate,l=e.Component},function(e){p=e.localConfig},function(e){h=e.shopItem}],execute:function(){var u,f,g,d,m;r._RF.push({},"35980PVGZdO6o5scEE8kciy","shopPage",void 0);var v=c.ccclass,y=c.property;e("shopPage",(u=v("shopPage"),f=y(s),u((m=t((d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,o(t,"pfShopItem",m,i(t)),t.page=0,t}n(t,e);var r=t.prototype;return r.start=function(){},r.setPage=function(e){this.page=e},r.show=function(){for(var e=p.instance.getCars(),t=9*this.page,n=9*(this.page+1),o=0,i=t;i<n;i++,o++){var r=null;o<this.node.children.length?r=this.node.children[o]:(r=a(this.pfShopItem)).parent=this.node,r.getComponent(h).show(e[i])}},r.unSelectAll=function(){this.node.children.forEach((function(e){e.getComponent(h).select=!1}))},r.unUseAll=function(){this.node.children.forEach((function(e){e.getComponent(h).used=!1}))},r.refreshUse=function(e){this.node.children.forEach((function(t){var n=t.getComponent(h);n.carInfo.ID===e&&n.onItemClick()}))},t}(l)).prototype,"pfShopItem",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=d))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/showReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./constant.ts","./localConfig.ts","./playerData.ts","./clientEvent.ts","./poolManager.ts","./uiManager.ts","./gameLogic.ts","./LanguageData.ts"],(function(e){"use strict";var t,n,i,r,a,o,l,c,u,s,d,p,h,b,f,w,m,g,R,y,D,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.SpriteFrame,c=e.Sprite,u=e.Label,s=e.Node,d=e.Animation,p=e.Vec3,h=e.Component},function(e){b=e.resourceUtil},function(e){f=e.constant},function(e){w=e.localConfig},function(e){m=e.playerData},function(e){g=e.clientEvent},function(e){R=e.poolManager},function(e){y=e.uiManager},function(e){D=e.gameLogic},function(e){I=e.i18n}],execute:function(){var T,v,C,E,A,B,P,N,_,k,z,L,S,G,W,Y,F,M,O,H,U,V,q,j,x;a._RF.push({},"880e1kClIdKPqdXdgTIpdv2","showReward",void 0);var K=o.ccclass,X=o.property;e("showReward",(T=K("showReward"),v=X(l),C=X(c),E=X(u),A=X(u),B=X(u),P=X(u),N=X(s),_=X(s),k=X(s),z=X(s),L=X(d),T((W=t((G=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"sfGold",W,r(t)),i(t,"spIcon",Y,r(t)),i(t,"lbRewardValue",F,r(t)),i(t,"lbTips",M,r(t)),i(t,"lbTitle",O,r(t)),i(t,"lbImmediateBtn",H,r(t)),i(t,"ndCarParent",U,r(t)),i(t,"ndBtnDouble",V,r(t)),i(t,"ndBtnNormal",q,r(t)),i(t,"ndBtnImmediately",j,r(t)),i(t,"aniReward",x,r(t)),t.isDouble=!1,t.callback=null,t.isLast=!1,t.rewardType=0,t.amount=0,t.itemInfo=void 0,t._isHadCar=!1,t.currentCar=null,t.carDegree=0,t.rotateSpeed=30,t}n(t,e);var a=t.prototype;return a.start=function(){},a.show=function(e,t,n,i,r,a){var o=this;this.itemInfo=e,this.rewardType=e.rewardType,this.amount=e.amount,this.ndBtnDouble.active=t,this.ndBtnNormal.active=t,this.ndBtnImmediately.active=!t,this.lbTitle.string=n,this.lbRewardValue.string=e.rewardType===f.REWARD_TYPE.CAR?"":String(this.amount),this.callback=i,r?(this.lbTips.node.active=!0,this.lbTips.string=r):this.lbTips.node.active=!1,this.showRewardPage(),this.aniReward.play("rewardShow"),this.aniReward.once(d.EventType.FINISHED,(function(){o.aniReward.play("rewardIdle")}),this),this.lbImmediateBtn.string=a||I.t("balance.receiveImmediately")},a.showRewardPage=function(){var e=this;switch(this.currentCar&&(R.instance.putNode(this.currentCar),this.currentCar=null),this.rewardType){case f.REWARD_TYPE.DIAMOND:break;case f.REWARD_TYPE.GOLD:this.spIcon.spriteFrame=this.sfGold,this.spIcon.node.active=!0;break;case f.REWARD_TYPE.CAR:this.spIcon.node.active=!1;var t=w.instance.queryByID("car",this.itemInfo.ID).model;b.getUICar(t,(function(t,n){t?console.error(t):(e.currentCar=R.instance.getNode(n,e.ndCarParent),e.carDegree=0)}))}},a.onBtnNormalClick=function(){this.addReward()},a.onBtnDoubleClick=function(){var e=this;D.openReward(f.SHARE_FUNCTION.SIGNIN,(function(t){t||(e.amount*=2,e.addReward())}))},a.onBtnImmediatelyClick=function(){this.addReward()},a.addReward=function(){switch(this.rewardType){case f.REWARD_TYPE.DIAMOND:break;case f.REWARD_TYPE.GOLD:m.instance.updatePlayerInfo("gold",this.amount),D.showFlyReward(f.REWARD_TYPE.GOLD,(function(){g.dispatchEvent("updateGold")}));break;case f.REWARD_TYPE.CAR:D.buyCar(this.itemInfo.ID)}y.instance.hideDialog("common/showReward"),this.callback&&this.callback()},a.update=function(e){this.currentCar&&(this.carDegree-=e*this.rotateSpeed,this.carDegree<=-360&&(this.carDegree+=360),this.currentCar.eulerAngles=new p(0,this.carDegree,0))},t}(h)).prototype,"sfGold",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(G.prototype,"spIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(G.prototype,"lbRewardValue",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(G.prototype,"lbTips",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(G.prototype,"lbTitle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(G.prototype,"lbImmediateBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(G.prototype,"ndCarParent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(G.prototype,"ndBtnDouble",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(G.prototype,"ndBtnNormal",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(G.prototype,"ndBtnImmediately",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(G.prototype,"aniReward",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=G))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/signIn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constant.ts","./util.ts","./localConfig.ts","./playerData.ts","./clientEvent.ts","./uiManager.ts","./gameLogic.ts","./LanguageData.ts","./signInItem.ts"],(function(e){"use strict";var n,t,i,r,a,o,s,c,u,l,d,I,f,p,h,R,g,v,y,D,S,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,c=e.Sprite,u=e.SpriteFrame,l=e.Prefab,d=e.Button,I=e.instantiate,f=e.Component},function(e){p=e.constant},function(e){h=e.util},function(e){R=e.localConfig},function(e){g=e.playerData},function(e){v=e.clientEvent},function(e){y=e.uiManager},function(e){D=e.gameLogic},function(e){S=e.i18n},function(e){m=e.signInItem}],execute:function(){var b,B,E,T,w,A,N,C,_,G,L,F,k,z,P,W,U,V,O,q,H,Y,M,x,j;a._RF.push({},"9d016bBiB5J1prtR6VcBPd4","signIn",void 0);var J=o.ccclass,K=o.property;e("signIn",(b=J("signIn"),B=K(s),E=K(s),T=K(s),w=K(s),A=K(c),N=K(u),C=K(u),_=K(u),G=K(u),L=K(s),F=K(l),b((P=n((z=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,i(n,"ndBtnNormal",P,r(n)),i(n,"ndBtnDouble",W,r(n)),i(n,"ndBtnReceive",U,r(n)),i(n,"ndBtnClose",V,r(n)),i(n,"spDoubleBtnIcon",O,r(n)),i(n,"sfBlue",q,r(n)),i(n,"sfGray",H,r(n)),i(n,"sfVideo",Y,r(n)),i(n,"sfShare",M,r(n)),i(n,"arrNodeDay",x,r(n)),i(n,"pbSignInItem",j,r(n)),n.currentDay=0,n.arrReceived=[],n.arrAfterFillSignIn=[],n.isTodayReceived=!1,n.isAllReceived=!1,n.arrSignInItemScript=[],n.currentReward=void 0,n.currentRewardType=void 0,n.isHadCar=void 0,n.createDate=void 0,n.getCarDate=void 0,n}t(n,e);var a=n.prototype;return a.start=function(){},a.show=function(){g.instance.updateSignInCurrentDay();var e=g.instance.playerInfo.signInInfo;this.currentDay=e.currentDay,this.arrReceived=e.receivedDays,this.arrAfterFillSignIn=e.afterFillSignInDays,D.updateRewardIcon(p.SHARE_FUNCTION.SIGNIN,this.spDoubleBtnIcon),this.showSignInInfo(),this.setButtonStyle()},a.setButtonStyle=function(){var e=g.instance.getSignInReceivedInfo();this.isTodayReceived=e.isTodayReceived,this.isAllReceived=e.isAllReceived,this.ndBtnDouble.getComponent(c).spriteFrame=this.isTodayReceived?this.sfGray:this.sfBlue,this.ndBtnDouble.getComponent(d).interactable=!this.isTodayReceived,this.ndBtnReceive.getComponent(c).spriteFrame=this.isTodayReceived?this.sfGray:this.sfBlue,this.ndBtnReceive.getComponent(d).interactable=!this.isTodayReceived;var n=R.instance.getTableArr("signIn");this.currentReward=n[this.currentDay-1],this.currentRewardType=this.currentReward.rewardType,this.currentRewardType===p.REWARD_TYPE.CAR?g.instance.isHadCarAndDuringPeriod(this.currentReward.amount)?(this.ndBtnDouble.active=!0,this.ndBtnReceive.active=!1,this.ndBtnNormal.active=!this.isTodayReceived):(this.ndBtnDouble.active=!1,this.ndBtnReceive.active=!0,this.ndBtnNormal.active=!1):(this.ndBtnDouble.active=!0,this.ndBtnReceive.active=!1,this.ndBtnNormal.active=!this.isTodayReceived)},a.showSignInInfo=function(){this.arrSignInItemScript=[];for(var e=R.instance.getTableArr("signIn"),n=0;n<e.length;n++){var t=e[n].ID,i=!!this.arrReceived.includes(t);t<=this.currentDay?(e[n].status=i?p.SIGNIN_REWARD_STATUS.RECEIVED:p.SIGNIN_REWARD_STATUS.RECEIVABLE,e[n].status===p.SIGNIN_REWARD_STATUS.RECEIVABLE&&t<this.currentDay&&(e[n].status=p.SIGNIN_REWARD_STATUS.FILL_SIGNIN,this.arrAfterFillSignIn.includes(t)&&(e[n].status=p.SIGNIN_REWARD_STATUS.AFTER_FILL_SIGNIN))):e[n].status=p.SIGNIN_REWARD_STATUS.UNRECEIVABLE;var r=this.arrNodeDay[n],a=null;r.getChildByName("signInItem")?a=r.getChildByName("signInItem"):(a=I(this.pbSignInItem),r.addChild(a));var o=a.getComponent(m);o.init(e[n],this),this.arrSignInItemScript.includes(o)||this.arrSignInItemScript.push(o)}},a.receiveReward=function(e,n,t){var i=e.ID;if(!(this.currentDay<i)){var r=S.t("showReward.signinReward"),a=h.clone(e);if(2==e.ID||7==e.ID){var o=R.instance.queryByID("car",e.amount);a.ID=o.ID,-1!==g.instance.playerInfo.cars.indexOf(o.ID)&&(a.rewardType=p.REWARD_TYPE.GOLD,a.amount=2==e.ID?p.GOLD_REWARD.SECOND:p.GOLD_REWARD.SEVENT)}if(a.amount=n?a.amount*=2:a.amount,y.instance.shiftFromPopupSeq("signIn/signIn"),a.rewardType===p.REWARD_TYPE.GOLD)return g.instance.updatePlayerInfo("gold",a.amount),D.showFlyReward(p.REWARD_TYPE.GOLD,(function(){v.dispatchEvent("updateGold")})),void(t&&t());y.instance.pushToPopupSeq("common/showReward","showReward",[a,!1,r,t])}},a.receiveClick=function(e){for(var n=this,t=function(t){var i=n.arrSignInItemScript[t];if(i.itemInfo.status===p.SIGNIN_REWARD_STATUS.RECEIVABLE)return i._parent.receiveReward(i.itemInfo,e,(function(){i.markReceived()})),"break"},i=0;i<this.arrSignInItemScript.length;i++){if("break"===t(i))break}},a.onBtnDoubleClick=function(){this.receiveClick(!0)},a.onBtnNormalClick=function(){this.receiveClick(!1)},a.onBtnReceiveClick=function(){this.receiveClick(!1)},a.onBtnCloseClick=function(){y.instance.shiftFromPopupSeq("signIn/signIn")},n}(f)).prototype,"ndBtnNormal",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(z.prototype,"ndBtnDouble",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(z.prototype,"ndBtnReceive",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(z.prototype,"ndBtnClose",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(z.prototype,"spDoubleBtnIcon",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(z.prototype,"sfBlue",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(z.prototype,"sfGray",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(z.prototype,"sfVideo",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(z.prototype,"sfShare",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(z.prototype,"arrNodeDay",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(z.prototype,"pbSignInItem",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=z))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/signInItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./constant.ts","./localConfig.ts","./playerData.ts","./clientEvent.ts","./uiManager.ts","./gameLogic.ts"],(function(t){"use strict";var e,i,n,s,r,o,a,l,u,c,I,f,h,p,m,S,g,R,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,a=t.SpriteFrame,l=t.Sprite,u=t.Node,c=t.Label,I=t.Animation,f=t.Component},function(t){h=t.resourceUtil},function(t){p=t.constant},function(t){m=t.localConfig},function(t){S=t.playerData},function(t){g=t.clientEvent},function(t){R=t.uiManager},function(t){d=t.gameLogic}],execute:function(){var b,A,D,E,_,N,w,T,y,F,L,v,G,C,B,U,k,W,z,V,P,Y,O;r._RF.push({},"8a6efh8jF9Js7ZZXyAL57KG","signInItem",void 0);var H=o.ccclass,q=o.property;t("signInItem",(b=H("signInItem"),A=q(a),D=q(a),E=q(l),_=q(a),N=q(u),w=q(u),T=q(u),y=q(c),F=q(u),L=q(c),b((C=e((G=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"sfBgBlue",C,s(e)),n(e,"sfYellow",B,s(e)),n(e,"spReward",U,s(e)),n(e,"sfGold",k,s(e)),n(e,"nodeTick",W,s(e)),n(e,"nodeBtnFillSign",z,s(e)),n(e,"nodeBtnAfterFillSign",V,s(e)),n(e,"lbDayIndex",P,s(e)),n(e,"nodeLight",Y,s(e)),n(e,"lbValue",O,s(e)),e._parent=null,e.itemInfo=null,e.isHadCar=null,e}i(e,t);var r=e.prototype;return r.start=function(){},r.init=function(t,e){this._parent=e,this.itemInfo=t,this.lbValue.string=t.rewardType===p.REWARD_TYPE.CAR?"":String(t.amount),this.lbDayIndex.string=String(t.ID),this.setIcon(t.rewardType),this.setStatus(t.status),this.node.getComponent(l).spriteFrame=Number(t.ID)>=7?this.sfBgBlue:this.sfYellow},r.setIcon=function(t){switch(t){case p.REWARD_TYPE.DIAMOND:break;case p.REWARD_TYPE.GOLD:this.spReward.spriteFrame=this.sfGold;break;case p.REWARD_TYPE.CAR:var e=m.instance.queryByID("car",this.itemInfo.amount).model;S.instance.isHadCarAndDuringPeriod(this.itemInfo.amount)?(this.spReward.spriteFrame=this.sfGold,2==this.itemInfo.ID?this.lbValue.string=String(p.GOLD_REWARD.SECOND):7==this.itemInfo.ID&&(this.lbValue.string=String(p.GOLD_REWARD.SEVENT))):h.setCarIcon(e,this.spReward,!1,(function(){}))}},r.setStatus=function(t){switch(t){case p.SIGNIN_REWARD_STATUS.RECEIVED:this.showItemUI(!1,!0,!1,!1);break;case p.SIGNIN_REWARD_STATUS.RECEIVABLE:this.showItemUI(!0,!1,!1,!1);break;case p.SIGNIN_REWARD_STATUS.UNRECEIVABLE:this.showItemUI(!1,!1,!1,!1);break;case p.SIGNIN_REWARD_STATUS.FILL_SIGNIN:this.showItemUI(!1,!1,!0,!1);break;case p.SIGNIN_REWARD_STATUS.AFTER_FILL_SIGNIN:this.showItemUI(!0,!1,!1,!0)}},r.showItemUI=function(t,e,i,n){this.nodeLight.active=t;var s=this.nodeLight.getComponent(I);t?s.play():s.stop(),this.nodeTick.active=e,this.nodeBtnFillSign.active=i,this.nodeBtnAfterFillSign.active=n},r.onBtnAfterFillSignClick=function(){this.itemInfo.status!==p.SIGNIN_REWARD_STATUS.AFTER_FILL_SIGNIN&&this.itemInfo.status!==p.SIGNIN_REWARD_STATUS.RECEIVABLE||this._parent.receiveReward(this.itemInfo,!1,this.markReceived.bind(this))},r.markReceived=function(){this.itemInfo.status=p.SIGNIN_REWARD_STATUS.RECEIVED,this.setStatus(this.itemInfo.status),2!==this.itemInfo.ID&&7!==this.itemInfo.ID||this.isHadCar||S.instance.updateDictGetCarTime(this.itemInfo.amount),this.itemInfo.ID&&(S.instance.updateSignInReceivedDays(this.itemInfo.ID),g.dispatchEvent("updateSignIn")),this.close()},r.close=function(){R.instance.shiftFromPopupSeq("common/showReward"),S.instance.getSignInReceivedInfo().isAllReceived?R.instance.shiftFromPopupSeq("common/showReward"):R.instance.pushToPopupSeq("signIn/signIn","signIn",{})},r.markAfterFillSignIn=function(){this.itemInfo.status=p.SIGNIN_REWARD_STATUS.AFTER_FILL_SIGNIN,this.setStatus(this.itemInfo.status),S.instance.updateSignInFillSignInDays(this.itemInfo.ID,!1)},r.onBtnFillSignInClick=function(){var t=this;d.openReward(p.SHARE_FUNCTION.FILL_SIGNIN,(function(e){e||t.markAfterFillSignIn()}))},e}(f)).prototype,"sfBgBlue",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(G.prototype,"sfYellow",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(G.prototype,"spReward",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(G.prototype,"sfGold",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(G.prototype,"nodeTick",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(G.prototype,"nodeBtnFillSign",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(G.prototype,"nodeBtnAfterFillSign",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(G.prototype,"lbDayIndex",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(G.prototype,"nodeLight",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(G.prototype,"lbValue",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=G))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteFrameSet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,a,n;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e._decorator,n=e.SpriteFrame}],execute:function(){var u,c,o,p,l,s;i._RF.push({},"93cd23dxExEBLbD/xbMp1PN","SpriteFrameSet",void 0);var f=a.ccclass,m=a.property;e("default",(u=f("SpriteFrameSet"),c=m({type:n}),u((l=t((p=function(){this.name="SpriteFrameSet",r(this,"language",l,this),r(this,"spriteFrame",s,this)}).prototype,"language",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=t(p.prototype,"spriteFrame",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=p))||o));i._RF.pop()}}}));

System.register("chunks:///_virtual/tips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./poolManager.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,c,l,p,u,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Label,c=t.Vec3,l=t.UITransform,p=t.isValid,u=t.tween,h=t.Component},function(t){d=t.poolManager}],execute:function(){var f,g,b,v,y;r._RF.push({},"60f49uw4/dA4rGh/C738U1T","tips",void 0);var w=s.ccclass,P=s.property;t("tips",(f=w("tips"),g=P(a),f((y=e((v=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"lbTips",y,o(e)),e.targetPos=void 0,e}n(e,t);var r=e.prototype;return r.start=function(){},r.show=function(t,e){var n=this;this.targetPos=new c(0,200,0),this.node.setPosition(this.targetPos),this.lbTips.string=t;var i=this.lbTips.node.getComponent(l).contentSize;p(i)?(this.node.getComponent(l).setContentSize(i.width+100<240?240:i.width+100,i.height+30),this.scheduleOnce((function(){u(n.targetPos).by(.8,new c(0,150,0)).call((function(){e&&e(),d.instance.putNode(n.node)})).start()}),.8)):d.instance.putNode(this.node)},e}(h)).prototype,"lbTips",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=v))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/trial.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./constant.ts","./localConfig.ts","./playerData.ts","./clientEvent.ts","./poolManager.ts","./uiManager.ts","./gameLogic.ts"],(function(t){"use strict";var e,n,r,a,i,o,c,l,s,u,h,p,f,g,d,C,b,v,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,c=t.Node,l=t.Widget,s=t.Sprite,u=t.Vec3,h=t.Component},function(t){p=t.resourceUtil},function(t){f=t.constant},function(t){g=t.localConfig},function(t){d=t.playerData},function(t){C=t.clientEvent},function(t){b=t.poolManager},function(t){v=t.uiManager},function(t){I=t.gameLogic}],execute:function(){var y,D,m,w,_,k,M,R,B;i._RF.push({},"5bf756By5JOmoKbG0aoUzq6","trial",void 0);var N=o.ccclass,S=o.property;t("trial",(y=N("trial"),D=S(c),m=S(l),w=S(s),y((M=e((k=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,r(e,"nodeCarParent",M,a(e)),r(e,"wgMenu",R,a(e)),e.currentCar=null,e.carDegree=0,e.rotateSpeed=30,e.carId=0,r(e,"spIcon",B,a(e)),e._callback=void 0,e}n(e,t);var i=e.prototype;return i.start=function(){},i.show=function(t){var e=this;if(!this._callback){this._callback=t,I.updateRewardIcon(f.SHARE_FUNCTION.TRIAL,this.spIcon),this.currentCar&&(b.instance.putNode(this.currentCar),this.currentCar=null);var n=g.instance.getCars(),r=[];if(n.forEach((function(t){d.instance.hasCar(t.ID)||r.push(t.ID)})),r.length<=0)this.onBtnCloseClick();else{var a=Math.floor(Math.random()*r.length);this.carId=r[a];var i=g.instance.queryByID("car",this.carId.toString());console.log("trial show car: "+i.model),p.getUICar(i.model,(function(t,n){t?console.error(t,i.model):(e.carDegree=0,e.currentCar=b.instance.getNode(n,e.nodeCarParent))}))}}},i.onBtnCloseClick=function(){v.instance.hideDialog("main/trial"),this._callback&&this._callback(),this._callback=void 0},i.onBtnTrialClick=function(){var t=this;I.openReward(f.SHARE_FUNCTION.TRIAL,(function(e,n){e||(d.instance.showCar=t.carId,C.dispatchEvent("updateCar"),t.onBtnCloseClick())}))},i.update=function(t){this.currentCar&&(this.carDegree-=t*this.rotateSpeed,this.carDegree<=-360&&(this.carDegree+=360),this.currentCar.eulerAngles=new u(0,this.carDegree,0))},e}(h)).prototype,"nodeCarParent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(k.prototype,"wgMenu",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(k.prototype,"spIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=k))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/uiManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./poolManager.ts","./tips.ts"],(function(i){"use strict";var t,o,a,n,e,s,r,p;return{setters:[function(i){t=i.createClass},function(i){o=i.cclegacy,a=i._decorator,n=i.isValid,e=i.find},function(i){s=i.resourceUtil},function(i){r=i.poolManager},function(i){p=i.tips}],execute:function(){var h,c;o._RF.push({},"ae98dhzQlZL2p1SbDgvNdoJ","uiManager",void 0);var u=a.ccclass;a.property,i("uiManager",u("uiManager")(((c=function(){function i(){this.dictSharedPanel={},this.dictLoading={},this.arrPopupDialog=[],this.showTipsTime=0}var o=i.prototype;return o.showDialog=function(i,t,o){var a=this;if(!this.dictLoading[i]){var r=i.lastIndexOf("/"),p=i.slice(r+1);if(t||(t=[]),this.dictSharedPanel.hasOwnProperty(i)){var h=this.dictSharedPanel[i];if(n(h)){h.parent=e("Canvas"),h.active=!0;var c=h.getComponent(p);return c.show&&c.show.apply(c,t),void(o&&o(c))}}this.dictLoading[i]=!0,s.createUI(i,(function(n,e){var s=!1;if(a.dictLoading[i]||(s=!0),a.dictLoading[i]=!1,n)console.error(n);else{a.dictSharedPanel[i]=e;var r=e.getComponent(p);r.show&&r.show.apply(r,t),o&&o(r),s&&a.hideDialog(i)}}))}},o.hideDialog=function(i,t){if(this.dictSharedPanel.hasOwnProperty(i)){var o=this.dictSharedPanel[i];o&&n(o)?(o.parent=null,t&&"function"==typeof t&&t()):t&&"function"==typeof t&&t()}this.dictLoading[i]=!1},o.pushToPopupSeq=function(i,t,o){var a={panelPath:i,scriptName:t,param:o,isShow:!1};this.arrPopupDialog.push(a),this.checkPopupSeq()},o.insertToPopupSeq=function(i,t,o){var a={panelPath:t,param:o,isShow:!1};this.arrPopupDialog.splice(i,0,a)},o.shiftFromPopupSeq=function(i){var t=this;this.hideDialog(i,(function(){t.arrPopupDialog[0]&&t.arrPopupDialog[0].panelPath===i&&(t.arrPopupDialog.shift(),t.checkPopupSeq())}))},o.checkPopupSeq=function(){if(this.arrPopupDialog.length>0){var i=this.arrPopupDialog[0];i.isShow||(this.showDialog(i.panelPath,i.param),this.arrPopupDialog[0].isShow=!0)}},o.showTips=function(i,t){var o=Date.now();if(o-this.showTipsTime<800){var a=800-(o-this.showTipsTime),n=this;setTimeout(function(i,t){n._showTipsAni(i,t)}.bind(this,i,t),a),this.showTipsTime=o+a}else this._showTipsAni(i,t),this.showTipsTime=o},o._showTipsAni=function(i,t){s.getUIPrefabRes("common/tips",(function(o,a){o||r.instance.getNode(a,e("Canvas")).getComponent(p).show(i,t)}))},t(i,null,[{key:"instance",get:function(){return this._instance||(this._instance=new i),this._instance}}]),i}())._instance=void 0,h=c))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/updateValueLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,a,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator,n=t.Label,s=t.Component}],execute:function(){var r;a._RF.push({},"4b7cfRS5bdP8qo8rorNgln5","updateValueLabel",void 0);var l=e.ccclass,h=(e.property,e.requireComponent);t("updateValueLabel",l("updateValueLabel")(r=h(n)(r=function(t){function a(){for(var i,a=arguments.length,e=new Array(a),n=0;n<a;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).isPlaying=!1,i.startVal=0,i.endVal=0,i.diffVal=0,i.currTime=0,i.changingTime=0,i.label=null,i}i(a,t);var e=a.prototype;return e.start=function(){},e.playUpdateValue=function(t,i,a){this.startVal=t,this.endVal=i,this.diffVal=this.endVal-this.startVal,this.currTime=0,this.changingTime=a,this.label=this.node.getComponent(n),this.label.string=t.toString(),this.isPlaying=!0},e.update=function(t){if(this.isPlaying){if(this.currTime<this.changingTime){this.currTime+=t;var i=this.startVal+parseInt((this.currTime/this.changingTime*this.diffVal).toString());return i<this.startVal?i=this.startVal:i>this.endVal&&(i=this.endVal),void(this.label.string=""+i)}this.label.string=""+this.endVal,this.isPlaying=!1}},a}(s))||r)||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/util.ts",["cc"],(function(t){"use strict";var r,e;return{setters:[function(t){r=t.cclegacy,e=t._decorator}],execute:function(){var n;r._RF.push({},"f1bcdp9t1BPdo0rL87xRyba","util",void 0);var o=e.ccclass;e.property,t("util",o("util")(n=function(){function t(){}return t.clone=function(t){if(null===t||"object"!=typeof t)return t;var r={};for(var e in t.constructor===Array&&(r=[]),t)t.hasOwnProperty(e)&&(r[e]=this.clone(t[e]));return r},t.objectToArray=function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(t[e]);return r},t.arrayToObject=function(t,r){var e={};for(var n in t)t.hasOwnProperty(n)&&t[n][r]&&(e[t[n][r]]=t[n]);return e},t.getWeightRandIndex=function(t,r){for(var e=Math.floor(Math.random()*r),n=0,o=0;o<t.length&&!(e<(n+=t[o]));o++);return o},t.getRandomNFromM=function(t,r){for(var e=[],n=0,o=0;o<r&&!(o>=t+1);){n=this.getRandomInt(0,t);for(var a=0,u=0;u<o;u++)if(e[u]===n){a=1;break}0===a&&(e[o]=n,o++)}return e},t.getRandomInt=function(t,r){var e=Math.random()*(r-t+1)+t;return Math.floor(e)},t.getStringLength=function(t){for(var r=t,e=0,n=0,o=r.length;n<o;n++){e+=r.charCodeAt(n)<=255?1:2}return Math.ceil(e/2)},t.isEmptyObject=function(t){var r=!0;if(t&&t.constructor===Object){for(var e in t)if(t.hasOwnProperty(e)){r=!1;break}}else r=!1;return r},t.formatNum=function(t){if(t<=0)return"0";var r=Math.round(Math.log(t)/Math.log(1e3));return parseInt((t/Math.pow(1e3,r-1<0?0:r-1)).toString(),10)+["","","K","M","B"][r]},t.isNewDay=function(t){var r=new Date(t),e=new Date,n=r.getFullYear(),o=r.getMonth(),a=r.getDate(),u=e.getFullYear(),i=e.getMonth(),f=e.getDate();return u>n||(i>o||f>a)},t.getPropertyCount=function(t){var r,e=0;for(r in t)t.hasOwnProperty(r)&&e++;return e},t.difference=function(t,r){var e=[];if(t.constructor!==Array||r.constructor!==Array)return e;for(var n=t.length,o=0;o<n;o++)-1===r.indexOf(t[o])&&e.push(t[o]);return e},t.simulationUUID=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t.trim=function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},t.isNowValid=function(t,r){var e=new Date(t),n=new Date(r),o=!1;if(e.getDate()+""!="NaN"&&n.getDate()+""!="NaN"){var a=new Date;o=a<n&&a>e}return o},t.getDeltaDays=function(t,r){var e=new Date(t),n=new Date(r),o=e.getFullYear(),a=e.getMonth()+1,u=e.getDate(),i=n.getFullYear(),f=n.getMonth()+1,c=n.getDate();t=new Date(o+"/"+a+"/"+u+" GMT+0800").getTime();var g=(r=new Date(i+"/"+f+"/"+c+" GMT+0800").getTime())-t;return Math.floor(g/864e5)},t.getMin=function(t){var r=0;if(t.constructor===Array)for(var e=t.length,n=0;n<e;n++)r=0===n?Number(t[0]):r>Number(t[n])?Number(t[n]):r;return r},t.formatTwoDigits=function(t){return(Array(2).join("0")+t).slice(-2)},t.formatDate=function(t,r){var e={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+n+")").test(r)&&(r=r.replace(RegExp.$1,1===RegExp.$1.length?""+e[n]:("00"+e[n]).substr((""+e[n]).length)));return r},t.getDay=function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},t.formatMoney=function(t){for(var r=["","K","M","G","T","P","E","Z","Y","B","N","D"],e="",n=0;n<r.length;n++){if(!(t>=1e4)){e=Math.floor(t)+r[n];break}t/=1e3}return""===e&&(e=Math.floor(t)+"U"),e},t.formatTimeForSecond=function(t){var r="",e=t%60,n=Math.floor(t/60);n=n<0?0:n;var o=Math.floor(n/60),a=n%60;return o>0&&(r+=o>9?o.toString():"0"+o,r+=":"),r+=a>9?a.toString():"0"+a,r+=":",r+=e>9?e.toString():"0"+e},t.formatTimeForMillisecond=function(t){var r=Math.floor(t/1e3%60),e=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3/60/60);return(r<10?"0"+r:r)+":"+(e<10?"0"+e:e)+":"+(n<10?"0"+n:n)},t.zip=function(t){var r=pako.gzip(encodeURIComponent(t),{to:"string"});return this.base64encode(r)},t.rand=function(t){for(var r=this.clone(t),e=r.length-1;e>=0;e--){var n=Math.floor(Math.random()*(e+1)),o=r[n];r[n]=r[e],r[e]=o}return r},t}())||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/zh.ts",["cc"],(function(){"use strict";var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"3c2acsRBE9KO4h4sGTiBlRL","zh",void 0),window.i18nConfig||(window.i18nConfig={}),window.i18nConfig.languages||(window.i18nConfig.languages={}),window.i18nConfig.languages.zh={main:{dataLoading:"数据加载中...",dataLoadOver:"数据加载完成...",loginSuccess:"登录成功...",gameResourceLoading:"游戏资源加载中...",audioResourceLoading:"音效资源加载中...",mappingResourceLoading:"贴图资源加载中...",modelResourceLoading:"模型资源加载中...",entering:"正在进入..."},mainUI:{start:"点击屏幕开始",changeCar:"换车"},shop:{btnClose:"关闭",go:"前往",acquired:"已获得",current:"当前",receive:"领取",getGold:"看广告可获取金币"},balance:{"你完成了%{value}个订单":"你完成了%{value}个订单",youEarnedIt:"你赚到了",clickReceive:"点击领取",receiveImmediately:"立即领取"},carTask:{"初始车辆":"初始车辆","分享获得":"分享获得","签到获得":"签到获得","通过关卡获得":"通过关卡获得"},signin:{title:"七日登录",notYet:"暂不领取",normalReceive:"普通领取",receive:"领取",doubleReceive:"双倍领取",fillSignin:"补签"},fightManager:{loadingMap:"正在加载地图...",buildingCity:"开始建造城市...",cityLoadOver:"城市加载完毕..."},fightMap:{trimTheGround:"正在修整地面...",pavingTheRoad:"正在铺路中...",plantingTree:"正在栽树中...",decorateHouse:"正在装修房屋中...",paintLandmarks:"正在粉刷地标中..."},online:{close:"关闭",clickReceive:"点击领取",dailyIncome:"日常收益可领取"},lottery:{title:"幸运大转盘",free:"免费"},talk:{"你好,请到街对面接我.":"你好,请到街对面接我.","停车!停车!":"停车!停车!","去消费最高的地方.":"去消费最高的地方.","去附近的希尔顿酒店.":"去附近的希尔顿酒店.","司机快来!我老婆要生了!":"司机快来!我老婆要生了!","大哥快点,我赶时间.":"大哥快点,我赶时间.","师傅,5分钟内能到吗?":"师傅,5分钟内能到吗?","师傅,你是老司机嘛?":"师傅,你是老司机嘛?","师傅,你跑一天能赚多少?":"师傅,你跑一天能赚多少?","师傅快点,我要赶飞机.":"师傅快点,我要赶飞机.","师傅跟上那辆法拉利.":"师傅跟上那辆法拉利.","带我去最近的银行.":"带我去最近的银行.","帮我跟上前面那辆车!":"帮我跟上前面那辆车!","快去火车站,我赶车!":"快去火车站,我赶车!","我在酒店大堂门口等你.":"我在酒店大堂门口等你.","要下雨了,你快来!":"要下雨了,你快来!"},showReward:{title:"奖励",normalReceive:"普通领取",ReceiveImmediately:" 立即领取",doubleReceive:"双倍领取",alreadyHadCar:"您已拥有该车辆，自动转成对应金币",buySuccessful:"购买成功",confrim:"确认",signinReward:"签到奖励"},revive:{reviveImmediately:"立即复活",skip:"跳过",tips:"真可惜，只差一点就到终点了!",continue:"复活继续"},clickBox:{title:"神秘大礼",progress:"点击越快奖励越多",clickMe:"快点我",normalReceive:"普通领取",doubleReceive:"双倍领取"},trial:{title:"免费试用",tryItNow:"立即试用",giveUp:"放弃试用, 开始游戏"},invinceible:{title:"无敌开局",confirm:"确认",close:"关闭"},setting:{title:"设置",version:"版本号:",close:"关闭"}},e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});